{"version":3,"sources":["Utils/Common.js","Login.js","home/AppBar.js","Home.js","Utils/PrivateRoute.js","Utils/PublicRoute.js","ChangePassword.js","Register.js","Menu.js","account/AccountProfile.js","account/AccountProfileDetails.js","settings/SettingsPassword.js","account/Stats.js","account/Items.js","profile.js","Utils/NoGuestRoute.js","Play.js","game/chat.js","game/Cheese.js","game/room.js","game/src/Quiz/GameOver.js","game/src/Quiz/Quiz.js","game/src/utils/utils.js","game/src/utils/hexStrings.js","game/src/components/colourWheel/ColourWheel.js","music/dadoMusica.mp3","music/ascensor.mp3","game/Board.js","Game.js","CrearSala.js","UnirseSala.js","Sala.js","tienda/Tienda.js","App.js","index.js"],"names":["getUser","userStr","sessionStorage","getItem","JSON","parse","getToken","removeUserSession","removeItem","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","width","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","marginTop","submit","fondo","position","left","top","transform","boxShadow","error","textAlign","useFormInput","initialValue","useState","value","setValue","onChange","e","target","Login","props","setLoading","username","password","loginError","setLoginError","setError","noUser","setUser","noPass","setPass","classes","Grid","container","component","className","CssBaseline","item","xs","Avatar","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","helperText","Button","onClick","axios","get","headers","then","response","token","user","console","log","data","setItem","stringify","history","push","catch","status","alert","message","Box","mt","flexGrow","menuButton","marginRight","title","AppAppBar","StyledMenu","styled","nav","open","Home","useEffect","Fragment","role","aria-label","style","trigger","fontSize","size","contentStyle","src","PrivateRoute","Component","rest","render","to","pathname","state","from","location","PublicRoute","ChangePassword","answer","newPassword","preg","setPreg","noNewP","setNewP","noRes","setRes","Container","maxWidth","disabled","defaultValue","post","res","newpassword","Register","email","reppassword","question","noEmail","setEmail","noQuestion","setQuestion","noAns","setAns","dist","setDist","Rep","setNoRep","err","setErr","RegExp","justify","button","div","a","Menu","Card","CardContent","small","large","AccountProfile","profiles","banner","ficha","sx","md","sm","gutterBottom","mail","AccountProfileDetails","profile","CardHeader","subheader","Divider","pregu","resu","SettingsPassword","oldpassword","confirm","values","setValues","handleChange","event","handleModifyPassword","window","reload","onSubmit","justifyContent","p","Stats","jugadas","coins","ganadas","avatares","banners","fichas","background","renderRowAvatars","index","currentAv","ListItem","String","jwt","idavatar","ListItemAvatar","ListItemText","primary","renderRowBanners","currentB","idbanner","renderRowFichas","currentF","idformficha","Items","comprados","openAvatar","setOpenAvatar","openBanner","setOpenBanner","openFicha","setOpenFicha","i","length","word","List","demo","ExpandLess","ExpandMore","Collapse","in","timeout","itemSize","itemCount","CardActions","onResponse","Profile","setCoins","wins","setWins","setFicha","setBanner","setComprados","setAvatar","njugadas","setNjugadas","setUsername","cns","ng","fich","bnr","rfs","avtr","nj","_id","code","Helmet","IconButton","ArrowBack","minHeight","py","lg","actual_coins","tipo","bind","pt","delete","NoGuestRoute","ENDPOINT","conn","undefined","Play","modalAbierto","modalAbiertoState","esReconexion","setReconexion","abrirModal","assert","io","extraHeaders","operacion","on","connected","disconnected","nsp","priv","Modal","isOpen","ModalHeader","ModalBody","ModalFooter","salaAct","sala","Chat","usuario","jugador","addResponseMessage","nombre","msgFull","msg","handleNewUserMessage","newMessage","emit","subtitle","Cheese","cheeses","forEach","Room","Title","h1","Points","GameOver","estado","pts","QuizWindow","Options","Option","Question","Quiz","pregunta","incorrect_answers","resps_inc","correct_answer","resp_c","quiz","setQuiz","number","setNumber","setPts","pickAnswer","userAnswer","innerText","result","casillaInfo","arr","pregunta_global","options","sort","Math","random","dangerouslySetInnerHTML","__html","map","produceRgbShades","r","g","b","amount","shades","hsl","tinycolor","toHsl","l","toRgb","colourToRgbObj","colour","calculateBounds","min","max","inside","cursorPosFromCenter","convertObjToString","obj","toRgbString","getEffectiveRadius","trueRadius","lineWidth","getCasillaNumber","casilla","getCoordByCasilla","coord","x","y","fullCircle","PI","quarterCircle","ColourWheel","handleResponseFromQuiz","setState","botonCerrar","pintarQuesito","num","quesito","categoria","finTurno","activarDado","cantidad","contestada","handleOpen","handleClose","rgb","innerWheelOpen","centerCircleOpen","numPlayers","positionsX","positionsY","puedoMover","playerName","dado","quienSoy","posiblesJugadas","casillaActualInfo","desactivado","imagenes","mostrarFicha","prueba","outerWheelBounds","innerWheelBounds","centerCircleBounds","outerWheelRadius","innerWheelRadius","centerCircleRadius","firstSpacerRadius","secondSpacerRadius","canvasEl","ctx","onCanvasHover","onCanvasClick","clientX","clientY","radius","this","canvasPos","getBoundingClientRect","h","w","onCanvas","fromCenter","sqrt","clearRect","drawOuterWheel","drawSpacers","padding","firstSpacerBounds","secondSpacerBounds","onRef","document","getElementById","getContext","preset","presetColour","drawInnerWheel","drawRadius","drawCenterCircle","indice","coords","vecx","vecy","inicializarTablero","ques","evt","getRelativeMousePos","cursor","outerWheelClicked","innerWheelClicked","evtPos","rgbaArr","colours","getImageData","opac","rgbArg","onColourSelected","j","arrayPosiblesJugadas","changePosition","callback","initCanvas","casillasMarcadas","floor","casillas","dibujarTablero","desactivarDado","quiensoy","players","numplayers","imgs","playernames","opa","effectiveRadius","rgbArr","beginPath","startAngle","endAngle","arc","op","val","strokeStyle","stroke","closePath","spacers","drawSpacer","spacerRadius","shadowColour","shadowBlur","shadowColor","drawRad","ys","angle","colors","translate","rotate","marcada","fillStyle","fillRect","setTransform","player","animationPercentage","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","animated","rgbShades","drawShades","animateShades","fill","drawPlayers","images","imageObj1","Image","onload","cargarImagen","fillText","drawImage","dynamicCursor","onMouseMove","popupId","popupState","getOpen","onClose","aria-labelledby","aria-describedby","disableBackdropClick","green","onComplete","isPlaying","duration","initialRemainingTime","getPosiblesJugadas","defaultProps","animate","yourDefaultColour","Board","selectedColour","play","turno","admin","datosJugadores","coloresAcertados","desconectados","jugadores","codigoSala","esprimero","nuevoJugador","puedoTirar","sounds","music","partidaEmpezada","yes","desconexion","cambiarSonido","cambiarMusica","audio","Audio","dados","rellenarQuesitos","listarJugadores","dense","includes","labelId","blockSize","alignContent","border","borderColor","textSizeAdjust","boxSizing","altP","disableTypography","ListItemSecondaryAction","botonEmpezar","iniciarPartidaa","togglePlay","pause","findIndex","colourWheel","setValores","iniciarPartida","info","jugada","rollDoneCallback","rollDoneCallback2","setTimeout","turn","heGanado","handleQuesitos","exito","arrayDatosJugadores","list","concat","listDatos","users","gamers","arrayJugadores","indexUser","indexOf","splice","some","elemento","userList","quesitos","cargarPartida","antiguo","nuevo","addEventListener","removeEventListener","aux","direction","font","HelpOutline","VolumeUp","VolumeOff","MusicNote","MusicOff","url","musica","playStatus","Sound","PLAYING","PAUSED","playFromPosition","loop","volume","ref","finPartida","fontWeight","reactDice","rollAll","numDice","rollDone","dice","outline","faceColor","dotColor","rollTime","sound","disableIndividual","withStyles","BackButtonListener","children","onpopstate","Game","Div","CrearSala","imprimirJugadoresSala","UnirseSala","codigo","Sala","Tienda","comprados_tipo","catalogo_tipo_no_reps","numObj","setnum","cat","setCat","catalogo_tipo","header","lo_tengo","precio","clickBuy","go","current","App","authLoading","setAuthLoading","exact","path","ReactDOM"],"mappings":"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B,KAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,MAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,MAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,MAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EAC/BsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,KAANC,EACjCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EAC/BsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,IAC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","file":"static/js/main.1eedb0b3.chunk.js","sourcesContent":["// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem('user');\n  if (userStr) return JSON.parse(userStr);\n  else return null;\n}\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem('token') || null;\n}\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem('token');\n  sessionStorage.removeItem('user');\n}\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem('token', token);\n  sessionStorage.setItem('user', JSON.stringify(user));\n}\n\n// set the token and user from the session storage\nexport const setToken = (token) => {\n  sessionStorage.setItem('token', token);\n}\n\n\n\nexport const setPlayers = (players) => {\n\n  sessionStorage.setItem('players', JSON.stringify(players));\n\n}\n\nexport const getPlayers = () => {\n  console.log(sessionStorage.getItem('players'))\n  return sessionStorage.getItem('players') || null;\n}\n\nexport const setSoyAdmin = (soy) => {\n\n  sessionStorage.setItem('soyAdmin', soy);\n\n}\n\nexport const getSoyAdmin = () => {\n  console.log(sessionStorage.getItem('soyAdmin'))\n  return sessionStorage.getItem('soyAdmin') || null;\n}","import React, { useState } from 'react';\nimport axios from 'axios';\nimport {setToken, setUserSession} from './Utils/Common';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '80vh'\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'repeat-x',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        width: '100%'\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    fondo:{\n        margin: theme.spacing(2,2,5),\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: 'white',\n        marginTop: theme.spacing(1),\n        boxShadow: \"0px 0px 5px 2px #9E9E9E\",\n    },\n    error: {\n        width: '100%', \n        position: 'absolute', textAlign:'center',\n        color: 'white',\n\t\tbackgroundColor: 'red',\n    }\n}));\n\nfunction Login(props) {\n  const [loading, setLoading] = useState(false);\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [loginError,setLoginError]=useState(false);\n  const [error, setError] = useState(null);\n    const [noUser, setUser] = useState(false);\n    const [noPass, setPass] = useState(false);\n\n\n    const classes = useStyles();\n\n\n    // handle button click of login form\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n\n      if(username.value===''){\n          setUser(true);\n      }else{\n          setUser(false);\n      }\n      if(password.value === ''){\n          setPass(true);\n      }else{\n          setPass(false);\n      }\n\n\n    if(username.value!=='' && password.value !== ''){\n        axios.get('https://unitrivia.herokuapp.com/api/login', { headers:{\n                username: username.value,\n                password: password.value\n            }}).then(response => {\n            setLoading(false);\n            console.log(response)\n            setUserSession(response.data, username.value);\n            props.history.push('/menu');\n        }).catch(error => {\n            setLoading(false);\n            //alert(error.message)\n            if (error.response.status === 401){setLoginError(true); setError(\"El Ususario o la contrasea se han introducido incorrectamente\");} //setError(error.response.data.message);\n            else{setLoginError(true); setError(\"El Ususario o la contrasea se han introducido incorrectamente\");}\n        });\n    }\n\n  }\n\n    const handleLogAsGuest = () => {\n        setError(null);\n        setLoading(true);\n\n        axios.get('https://unitrivia.herokuapp.com/api/logAsGuest'\n            ).then(response => {\n            setLoading(false);\n\n            setToken(response.data);\n            props.history.push('/menu');\n        }).catch(error => {\n            setLoading(false);\n            alert(error.message);\n            if (error.response.status === 401) { setError(error.response.data.message); console.log(error)}\n            else {setLoginError(true); setError(\"Something went wrong. Please try again later.\");console.log(error)}\n        });\n\n\n    }\n    const showError= () =>{\n        //console.log(loginError);\n        //console.log(error);\n        if(!loginError) return null;\n        return(\n            <div className={classes.error}>\n                {error}\n            </div>\n        );\n        \n    }\n  return (\n      <Grid container component=\"main\" className={classes.root}>\n          <CssBaseline />\n            {showError()}\n          <Grid item xs={false} className={classes.image} />\n          <div className={classes.fondo} >\n              <div className={classes.paper}>\n                  <Avatar className={classes.avatar}>\n                      <LockOutlinedIcon />\n                  </Avatar>\n                  <Typography component=\"h1\" variant=\"h5\">\n                      Acceder\n                  </Typography>\n                  <form className={classes.form} noValidate>\n                      <TextField\n                          error={noUser === true}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"username\"\n                          label=\"Usuario\"\n                          name=\"username\"\n                          autoComplete=\"username\"\n                          autoFocus\n                          {...username}\n                          helperText={noUser ? 'introduce el usario' : ''}\n                      />\n                      <TextField\n                          error={noPass === true}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          name=\"password\"\n                          label=\"Contrasea\"\n                          type=\"password\"\n                          id=\"password\"\n                          helperText={noPass ? 'introduce la contrasea' : ''}\n                          {...password}\n                      />\n\n                      <Button\n                          fullWidth\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={handleLogin}\n                      >\n                          Acceder\n                      </Button>\n                      <Grid container>\n                          <Grid item xs>\n                              <Link href=\"/changepassword\" variant=\"body2\">\n                                  Olvidaste la contrasea?\n                              </Link>\n                          </Grid>\n                          <Grid item>\n                              <Link href=\"/register\" variant=\"body2\">\n                                  {\"No tienes cuenta? Regstrate\"}\n                              </Link>\n                          </Grid>\n                      </Grid>\n                      <Button\n                          fullWidth\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={handleLogAsGuest}\n                      >\n                          Acceder como invitado\n                      </Button>\n                      <Box mt={5}>\n                          <Copyright />\n                      </Box>\n                  </form>\n              </div>\n              </div>\n          </Grid>\n      \n  );\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n\nexport default Login;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\nfunction AppAppBar(props) {\n    const classes = useStyles();\n    return(\n    <AppBar position=\"static\">\n        <Toolbar>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n                UniTrivia\n            </Typography>\n            <Button color=\"inherit\" href={'/login'}>Login</Button>\n            <Button color=\"inherit\" href={'/Register'}>Sign up</Button>\n        </Toolbar>\n    </AppBar>\n    );\n}\n\n\n\nexport default AppAppBar;","import React, {useEffect} from 'react';\nimport AppBar from './home/AppBar'\nimport {getToken, getUser, removeUserSession} from \"./Utils/Common\";\nimport axios from \"axios\";\nimport Grid from \"@material-ui/core/Grid\";\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {HelpOutline} from \"@material-ui/icons\";\nimport Popup from \"reactjs-popup\";\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\nfunction Home(props) {\n\n    useEffect(() => {\n\n        /*if(getUser()!=null){\n            props.history.push('/menu');\n        }*/\n    }, []);\n  return (\n      <React.Fragment >\n          <Grid container>\n          <Grid item xs={4}>\n          <StyledMenu open={true}>\n              <h1>UNITRIVIA</h1>\n              <h2></h2>\n              <Button href=\"/Login\">\n                  <span role=\"img\" aria-label=\"about us\"></span>\n                  LOGIN\n              </Button>\n              <Button href=\"/Register\" >\n                  <span role=\"img\" aria-label=\"price\"></span>\n                  SIGN UP\n              </Button>\n              <br></br>\n              <br></br>\n              <br></br>\n              <Grid container style={{align: 'center'}}>\n                  <Grid item xs={6}>\n\n                      <Popup trigger={\n                            <Button style={{fontSize: '1rem'}}>\n                                  <span role=\"img\" aria-label=\"price\"></span>\n                                  Autores\n                            </Button>} position=\"right bottom\" >\n                          <div>\n\n                              <li><font size={2}>ALEJANDRO ARTAL</font></li>\n                              <li><font size={2}>DANIEL BENED</font></li>\n                              <li><font size={2}>DIEGO BIELSA</font></li>\n                              <li><font size={2}>SCAR GMEZ</font></li>\n                              <li><font size={2}>IBN CAETE</font></li>\n                              <li><font size={2}>VCTOR HERNANDEZ</font></li>\n                          </div>\n                      </Popup>\n\n                  </Grid>\n\n                  <Grid item xs={6}>\n\n                      <Popup contentStyle={{width: '1000px', height: '600px'}} trigger={\n                          <Button style={{fontSize: '1rem'}}>\n                              <span role=\"img\" aria-label=\"price\"></span>\n                              Reglas\n                          </Button>} position=\"right bottom\" >\n                          <div style={{width: '1000px', height: '600px'}}>\n\n                              <li><font size={2}>El juego permite de 2-6 jugadores.</font></li>\n                                  <li><font size={2}>Se jugar de forma individual.</font></li>\n                              <li><font size={2}>Las preguntas contarn con un lmite de tiempo de 60 segundos.</font></li>\n                              <li><font size={2}>El juego se desarrollar sobre un tablero reducido.</font></li>\n                              <li><font size={2}>El orden de comienzo de los jugadores ser aleatorio.</font></li>\n                              <li><font size={2}>Cuando llegue el turno del jugador, realizar una tirada de dados, en funcin del valor le permitir moverse hacia cualquier direccin legal.</font></li>\n                              <li><font size={2}>Un movimiento legal est definido por:</font></li>\n                              <li><font size={2}>Se puede mover en sentido horario o antihorario y en caso de estar en un radio avanzar hacia el anillo o el centro pero no se puede ni ocupar ni atravesar esta casilla.</font></li>\n                              <li><font size={2}>Se puede ir de un radio al anillo exterior.</font></li>\n                              <li><font size={2}>No se puede invertir el sentido en medio de un movimiento.</font></li>\n                              <li><font size={2}>No se puede volver a los radios una vez has salido al anillo exterior.</font></li>\n                              <li><font size={2}>Si el jugador cae en una casilla de dado el jugador deber tirar de nuevo y realizar un movimiento en cualquier direccin legal</font></li>\n                              <li><font size={2}>Si el jugador cae en una casilla normal se le plantea una pregunta correspondiente a la categora del color, en caso de responder correctamente podr tirar de nuevo.</font></li>\n                              <li><font size={2}>Si el jugador cae en una casilla de quesito se le plantea una pregunta correspondiente a la categora del color, en caso de responder correctamente podr tirar de nuevo y ganar un quesito del color correspondiente en caso de no tenerlo.</font></li>\n                              <li><font size={2}>Si el jugador responde errneamente a la pregunta dar por finalizado su turno.</font></li>\n                              <li><font size={2}>Cuando un jugador consigue los 6 quesitos se proclama vencedor y acaba el juego.</font></li>\n\n                          </div>\n                      </Popup>\n\n                  </Grid>\n              </Grid>\n\n          </StyledMenu>\n          </Grid >\n            <Grid item xs={6} style={{ height: '80vh', width: '120vh',   display: 'flex'\n                }}>\n\n\n                <img src={'/images/tablero/tablero.png'} ></img>\n\n            </Grid>\n\n          </Grid>\n      </React.Fragment>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {getToken, getUser} from './Common';\n\n// handle the private routes\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\n    />\n  )\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getToken } from './Common';\n\n// handle the public routes\nfunction PublicRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => !getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/dashboard' }} />}\n    />\n  )\n}\n\nexport default PublicRoute;","import React, {useState} from 'react'\nimport axios from \"axios\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Link from \"@material-ui/core/Link\";\nimport Box from \"@material-ui/core/Box\";\nimport Container from \"@material-ui/core/Container\";\nimport {getToken} from \"./Utils/Common\";\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction ChangePassword(props) {\n    const username = useFormInput('');\n    const answer = useFormInput('');\n    const newPassword = useFormInput('');\n    let [preg, setPreg] = useState(null);\n    const [noUser, setUser] = useState(false);\n    const [noNewP, setNewP] = useState(false);\n    const [noRes, setRes] = useState(false);\n\n\n    const classes = useStyles();\n\n\n\n    // handle button click of recover question\n    const handleRecoverQuestion = () => {\n        try{\n            if(username.value == ''){\n                setUser(true);\n            }else {\n                setUser(false);\n                axios.get('https://unitrivia.herokuapp.com/api/login/recover/question', {\n                    headers: {\n                        username: username.value,\n                    }\n                }).then(response => {\n\n                    console.log(response)\n                    setPreg(response.data)\n\n\n                }).catch(error => {\n                    alert('Error al recuperar pregunta, usuario no existe');\n\n\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n    }\n\n    // handle button click of login form\n    const handleModify = () => {\n        try {\n            if(username.value == '' || answer.value == '' || newPassword.value == ''){\n                if(username.value == ''){\n                    setUser(true);\n                }else{\n                    setUser(false);\n                }\n\n                if(answer.value == ''){\n                    setRes(true);\n                }else{\n                    setRes(false);\n                }\n\n                if(newPassword.value == ''){\n                    setNewP(true);\n                }else{\n                    setNewP(false);\n                }\n            }else {\n                setUser(false);\n                setRes(false);\n                setNewP(false);\n\n                axios.post('https://unitrivia.herokuapp.com/api/login/recover/password', {}, {\n                    headers: {\n                        username: username.value,\n                        res: answer.value,\n                        newpassword: newPassword.value\n                    }\n                }).then(response => {\n\n                    //setUserSession(response.data.token, response.data.user);\n                    props.history.push('/login');\n                }).catch(error => {\n\n                    alert('Error al validar respuesta, revise la respuesta introducida');\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n    }\n\n\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\" className={classes.root}>\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Typography component=\"h1\" variant=\"h2\">\n                    UniTrivia\n                </Typography>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    He olvidado mi contrasea\n                </Typography>\n                <form className={classes.form} noValidate>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} spacing={2}>\n                            <TextField\n                                error = {noUser}\n                                autoComplete=\"fname\"\n                                name=\"username\"\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"username\"\n                                label=\"Usuario\"\n                                autoFocus\n                                {...username}\n                                helperText = {noUser ? 'Introduzca el usuario' : ''}\n                            />\n\n                        </Grid>\n                        <Grid item xs={12}  spacing={2}>\n                        <Button\n\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleRecoverQuestion}\n                        >\n                            Recuperar pregunta\n                        </Button>\n                    </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                disabled\n                                fullWidth\n                                value={preg}\n                                id=\"question\"\n                                name=\"question\"\n                                defaultValue=\"---\"\n                                label=\"Pregunta de seguridad\"\n\n\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                error = {noRes}\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"answer\"\n                                label=\"Respuesta a la pregunta\"\n                                name=\"answer\"\n\n                                {...answer}\n                                helperText = {noRes ? 'Introduzca la respuesta' : ''}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                error = {noNewP}\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                label=\"Nueva contrasea\"\n                                type=\"password\"\n                                id=\"password\"\n\n                                {...newPassword}\n                                helperText = {noNewP ? 'Introduzca la nueva contrasea' : ''}\n\n                            />\n                        </Grid>\n\n                        <Grid item xs={12}>\n\n                        </Grid>\n                    </Grid>\n                    <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleModify}\n                    >\n                        Confirmar\n                    </Button>\n\n                </form>\n            </div>\n            <Box mt={5}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\n\n\nexport default ChangePassword;\n","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\n\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '80vh'\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'repeat-x',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        height: '110%',\n        width: '200%'\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    fondo:{\n        margin: theme.spacing(2,2,5),\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: 'white',\n        marginTop: theme.spacing(1),\n        boxShadow: \"0px 0px 5px 2px #9E9E9E\",\n    }\n}));\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\nexport default function Register(props) {\n\n\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const username = useFormInput('');\n    const email = useFormInput('');\n    const password = useFormInput('');\n    const reppassword = useFormInput('');\n    const question = useFormInput('');\n    const answer = useFormInput('');\n    \n\n\n    const [noUser, setUser] = useState(false);\n    const [noPass, setPass] = useState(false);\n    const [noEmail, setEmail] = useState(false);\n    const [noQuestion, setQuestion] = useState(false);\n    const [noAns, setAns] = useState(false);\n    const [dist, setDist] = useState(false);\n    const [Rep, setNoRep] = useState(false);\n    const [err, setErr] = useState(null);\n    const emailRegex = new RegExp('/\\S+@\\S+\\.\\S+/');\n\n\n\n    const handleRegister = () => {\n        const user = {username}\n        setError(null);\n        setLoading(true);\n\n        username.value === '' ? setUser(true) : setUser(false);\n        password.value === '' ? setPass(true) : setPass(false);\n        email.value === '' ? setEmail(true) : setEmail(false);\n        question.value === '' ? setQuestion(true) : setQuestion(false);\n        answer.value === '' ? setAns(true) : setAns(false);\n        if(reppassword.value === ''){\n            setNoRep(true)\n            setErr('introduce la contrasea')\n        }else{\n            setNoRep(false)\n        }\n        if(password.value!==reppassword.value){\n            setDist(true)\n            setErr('las contraseas no coinciden')\n        }else{\n            setDist(false)\n        }\n\n\n\n        if(username.value!=='' && password.value!=='' && email.value!=='' && question.value!==''&& answer.value!=='' && password.value===reppassword.value) {\n\n//https://unitrivia.herokuapp.com/api/register\n            axios.post('https://unitrivia.herokuapp.com/api/register', {}, {\n                headers: {\n                    'username': username.value,\n                    'password': password.value,\n                    'email': email.value,\n                    'preg': question.value,\n                    'res': answer.value\n                }\n            }).then((response) => {\n                console.log(response.data)\n                console.log(response)\n                setLoading(false);\n                //setUserSession(response.data.token, response.data.user);\n                props.history.push('/login');\n            }).catch((error) => {\n                setLoading(false);\n                console.log(error.response)\n                if (error.response.status === 400) {\n                    setError(error.response.data.message);\n                    alert('usuario existente')\n                }else {\n                    setError(\"Something went wrong. Please try again later.\");\n                }\n            });\n        }\n    }\n\n\n    const classes = useStyles();\n    // eslint-disable-next-line no-undef\n\n\n\n    return (\n        <Grid container component=\"main\" className={classes.root}>\n            <Grid item xs={false} className={classes.image} />\n                <div className={classes.fondo}> \n                    <div className={classes.paper}>\n                        <Typography component=\"h1\" variant=\"h2\">\n                            UniTrivia\n                        </Typography>\n                        <Avatar className={classes.avatar}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            Regstrate\n                        </Typography>\n\n                        <form className={classes.form} noValidate>\n                            <Grid container spacing={2}>\n                                <Grid item xs={12} >\n                                    <TextField\n                                        error={noUser === true}\n                                        autoComplete=\"fname\"\n                                        name=\"username\"\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"username\"\n                                        label=\"Usuario\"\n                                        autoFocus\n                                        {...username}\n\n                                        helperText={noUser ? 'introduce el usario' : ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noEmail === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"email\"\n                                        label=\"Email Address\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        autoComplete=\"email\"\n                                        {...email}\n                                        helperText={noEmail ? 'introduce el email' : ''}\n\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noPass === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        name=\"password\"\n                                        label=\"Contrasea\"\n                                        type=\"password\"\n                                        id=\"password\"\n                                        autoComplete=\"current-password\"\n                                        {...password}\n                                        helperText={noPass ? 'introduce la contrasea' : ''}\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={dist === true || Rep === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        name=\"reppassword\"\n                                        label=\"Repetir contrasea\"\n                                        type=\"password\"\n                                        id=\"reppassword\"\n                                        autoComplete=\"current-password\"\n                                        {...reppassword}\n                                        helperText={dist === true || Rep === true ? err: ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noQuestion === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"question\"\n                                        label=\"Pregunta de seguridad\"\n                                        name=\"question\"\n                                        {...question}\n                                        helperText={noQuestion ? 'introduce la pregunta de seguridad' : ''}\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noAns === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"answer\"\n                                        label=\"Respuesta a la pregunta\"\n                                        name=\"answer\"\n                                        {...answer}\n                                        helperText={noAns ? 'introduce la respuesta a la pregunta de seguridad' : ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n\n                                </Grid>\n                            </Grid>\n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={handleRegister}\n\n                            >\n                                Registrarse\n                            </Button>\n                            <Grid container justify=\"flex-end\">\n                                <Grid item>\n                                    <Link href=\"/login\" variant=\"body2\">\n                                        Ya tienes una cuenta? Accede\n                                    </Link>\n                                </Grid>\n                            </Grid>\n                        </form>\n                    </div>\n                </div>\n            \n            <Box mt={5}>\n                <Copyright />\n            </Box>\n        </Grid>\n    );\n}\n\n","import React from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getUser, removeUserSession} from \"./Utils/Common\";\nimport {Card, CardContent} from \"@material-ui/core\";\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 2rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\nconst A = styled.a`\n  font-size: 2rem;\n  text-transform: uppercase;\n  padding: 2rem 0;\n  font-weight: bold;\n  letter-spacing: 0.5rem;\n  color: #0D0C1D;\n  text-decoration: none;\n  transition: color 0.3s linear;\n  \n\n  @media (max-width: 576px) {\n    font-size: 1.5rem;\n    text-align: center;\n  }\n\n  &:hover {\n    color: #343078;\n    \n  }\n`\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Menu() {\n    const classes = useStyles();\n\n\n    return (\n\n        <Card>\n            <CardContent>\n\n            <StyledMenu open={true}>\n                <h1>UNITRIVIA</h1>\n                <h2>MEN</h2>\n                <Button href=\"/Play\">\n                    <span role=\"img\" aria-label=\"about us\"></span>\n                    JUGAR\n                </Button>\n                <Button href=\"/profile\" disabled={getUser() == null}>\n                    <span role=\"img\" aria-label=\"price\"></span>\n                    PERFIL\n                </Button>\n                <Button href=\"/Login\" onClick={removeUserSession}>\n                    <span role=\"img\" aria-label=\"contact\"></span>\n                    CERRAR SESIN\n                </Button>\n            </StyledMenu>\n\n                </CardContent>\n\n            {/*<But>hole</But>\n                <Popup trigger={<button> Trigger</button>} position=\"top center\">\n                    <div>Popup content here !!</div>\n                </Popup>\n\n                */}\n\n\n        </Card>\n    );\n}\n\n\nexport default Menu;","import React, {useEffect} from 'react'\n\nimport {\n    Avatar,\n    Box,\n    Card,\n    CardContent,\n    Grid,\n    makeStyles,\n    Typography\n} from '@material-ui/core';\nimport Banner from 'react-js-banner';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n    small: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    },\n    large: {\n        width: theme.spacing(13),\n        height: theme.spacing(13),\n    },\n}));\n\n\nfunction AccountProfile(props) {\n    const classes = useStyles();\n    const profiles=props;\n    let avatar = '/images/avatars/' + props.avatar + '.jpg';\n    let banner = '/images/banners/' + props.banner + '.jpg';\n    let ficha = '/images/fichas/' + props.ficha + '.png';\n\n    console.log(avatar);\n    console.log(banner);\n    console.log(ficha);\n\n    return (\n\n        <Card {...props}>\n            <CardContent>\n                <Box\n                    sx={{\n                        alignItems: 'center',\n                        display: 'flex',\n                        flexDirection: 'column'\n                    }}\n                >\n                <Grid\n                    container\n                    spacing={3}\n                >\n\n                    <Grid\n                        item\n                        md={6}\n                        xs={6}\n                    >\n\n                        <Avatar\n                            title='Avatar'\n                            src={avatar}\n                            className={classes.large}\n\n\n                        />\n                    </Grid>\n\n                    <Grid\n                        item\n                        sm={3}\n                        xs={6}\n\n                    >\n                        <Avatar\n                            title='Forma Ficha'\n                            src={ficha}\n                            className={classes.large}\n\n\n                        />\n                    </Grid>\n\n                    <Grid\n                        item\n                        md={6}\n                        xs={12}\n                    >\n\n                        <img\n\n                            title='Banner'\n                            src={banner}\n                            sx={{\n                                alignItems: 'center',\n                                display: 'flex',\n                                flexDirection: 'row'\n                            }}\n                            width=\"800\"\n                            height=\"300\"\n\n                        />\n                    </Grid>\n                </Grid>\n                    <Typography\n                        color=\"textPrimary\"\n                        gutterBottom\n                        variant=\"h3\"\n                    >\n                        {profiles.user}\n                    </Typography>\n                    <Typography\n                        color=\"textSecondary\"\n                        variant=\"body1\"\n                    >\n                        {`${profiles.mail} `}\n                    </Typography>\n\n                </Box>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default AccountProfile;\n","import React from 'react';\n\nimport {Card, CardContent, CardHeader, Divider, Grid, TextField} from '@material-ui/core';\n\n\n\nfunction AccountProfileDetails(props) {\n  const profile=props;\n\n\n\n  return (\n      <form\n          autoComplete=\"off\"\n          noValidate\n          {...props}\n      >\n        <Card>\n          <CardHeader\n              subheader=\"Informacin del usuario\"\n              title=\"Perfil\"\n          />\n          <Divider/>\n          <CardContent>\n            <Grid\n                container\n                spacing={3}\n            >\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.user}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Usuario\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.mail}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Email\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.pregu}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Pregunta de seguridad\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.resu}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Respuesta\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n\n            </Grid>\n          </CardContent>\n          <Divider/>\n        </Card>\n      </form>\n\n  );\n}\n\nexport default AccountProfileDetails;\n","import { useState } from 'react';\nimport React from 'react'\nimport { getToken } from '../Utils/Common';\n\n\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Divider,\n  TextField\n} from '@material-ui/core';\nimport axios from \"axios\";\n\nconst SettingsPassword = (props) => {\n  const [values, setValues] = useState({\n    oldpassword: '',\n    password: '',\n    confirm: ''\n  });\n\n  const handleChange = (event) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleModifyPassword= () => {\n    axios.post('https://unitrivia.herokuapp.com/api/profile/modify/password',{} ,{ headers:{\n        'jwt': getToken(),\n        newpassword: values.password,\n        oldpassword: values.oldpassword\n      }}).then(response => {\n      console.log(response)\n      alert('Contrasea cambiada exitosamente');\n      window.location.reload(true);\n    }).catch(error => {\n      alert(error.message)\n    });\n\n\n  }\n\n  return (\n    <form {...props} onSubmit={handleModifyPassword}>\n      <Card>\n        <CardHeader\n          subheader=\"Update password\"\n          title=\"Password\"\n        />\n        <Divider />\n        <CardContent>\n          <TextField\n              fullWidth\n              label=\"Old password\"\n              margin=\"normal\"\n              name=\"oldpassword\"\n              onChange={handleChange}\n              type=\"password\"\n              value={values.oldpassword}\n              variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"New Password\"\n            margin=\"normal\"\n            name=\"password\"\n            onChange={handleChange}\n            type=\"password\"\n            value={values.password}\n            variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"Confirm new password\"\n            margin=\"normal\"\n            name=\"confirm\"\n            onChange={handleChange}\n            type=\"password\"\n            value={values.confirm}\n            variant=\"outlined\"\n          />\n        </CardContent>\n        <Divider />\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'flex-end',\n            p: 2\n          }}\n        >\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={handleModifyPassword}\n          >\n            Update\n          </Button>\n        </Box>\n      </Card>\n    </form>\n  );\n};\n\nexport default SettingsPassword;\n","import React from 'react';\n\nimport {Card, CardContent, CardHeader, Divider, Grid, TextField} from '@material-ui/core';\n\n\n\nfunction Stats(props) {\n  const profile=props\n\n\n\n\n  return (\n      <form\n          autoComplete=\"off\"\n          noValidate\n          {...props}\n      >\n        <Card>\n          <CardHeader\n              subheader=\"Estadsticas del usuario\"\n              title=\"Estadsticas\"\n          />\n          <Divider/>\n          <CardContent>\n            <Grid\n                container\n                spacing={3}\n            >\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas jugadas\"\n                    name=\"firstName\"\n                    defaultValue={'0'}\n                    value={profile.jugadas}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Coins\"\n                    name=\"question\"\n                    value={profile.coins}\n                    defaultValue={'0'}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas ganadas\"\n                    name=\"email\"\n                    defaultValue={'0'}\n                    value={profile.ganadas}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas Perdidas\"\n                    name=\"question\"\n                    value={profile.jugadas-profile.ganadas}\n                    defaultValue={'0'}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n\n            </Grid>\n          </CardContent>\n          <Divider/>\n\n\n        </Card>\n\n\n      </form>\n\n  );\n}\n\nexport default Stats;\n","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddBox from '@material-ui/icons/AddBox';\nimport {Card, CardHeader, Collapse, Typography, Button, Grid, CardActions} from \"@material-ui/core\";\nimport PropTypes from 'prop-types';\nimport {FixedSizeList} from 'react-window';\nimport {ExpandLess, ExpandMore} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport {getToken} from \"../Utils/Common\";\n\nlet avatares = [];\nlet banners = [];\nlet fichas = [];\n\nconst useStyles = makeStyles((theme) => ({\n\n    root: {\n        width: '100%',\n        height: 400,\n        maxWidth: 300,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\n\nfunction renderRowAvatars(props){\n  const { index, style } = props;\n  let currentAv = '/images/avatars/' + avatares[index] + '.jpg';\n    //console.log(avatares);\n\n  const clickAddAvatar = () => {\n        console.log(\"avatar clickado\");\n        console.log(String(avatares[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Avatar\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/avatar', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idavatar: String(avatares[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar avatar');\n            });\n        }\n  }\n\n  return(\n\n      <ListItem button style={style} key={index} onClick={clickAddAvatar}>\n        <ListItemAvatar>\n          <Avatar\n            src={currentAv}\n          >\n\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText\n            primary={avatares[index]}\n        />\n      </ListItem>\n\n  )\n};\n\nrenderRowAvatars.propTypes = {\n  index: PropTypes.number.isRequired,\n  style: PropTypes.object.isRequired,\n};\n\n\nfunction renderRowBanners(props){\n    const { index, style } = props;\n    let currentB = '/images/banners/' + banners[index] + '.jpg';\n    //console.log(avatares);\n\n    const clickAddBanner = () => {\n        console.log(\"banner clickado\");\n        console.log(String(banners[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Banner\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/banner', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idbanner: String(banners[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar banner');\n            });\n        }\n    }\n\n    return(\n\n        <ListItem button style={style} key={index} onClick={clickAddBanner}>\n            <ListItemAvatar>\n                <img\n                    src={currentB}\n                    width=\"300\"\n                    height=\"50\"\n                >\n\n                </img>\n            </ListItemAvatar>\n            <ListItemText\n                primary={banners[index]}\n            />\n        </ListItem>\n\n    )\n}\n\nrenderRowBanners.propTypes = {\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n};\n\n\nfunction renderRowFichas(props){\n    const { index, style } = props;\n    let currentF = '/images/fichas/' + fichas[index] + '.png';\n    //console.log(avatares);\n\n    const clickAddFichas = () => {\n        console.log(\"ficha clickado\");\n        console.log(String(fichas[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Forma de Ficha\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/formFicha', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idformficha: String(fichas[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar forma de ficha');\n            });\n        }\n    }\n\n    return(\n\n        <ListItem button style={style} key={index} onClick={clickAddFichas}>\n            <ListItemAvatar>\n                <Avatar\n                    src={currentF}\n                >\n\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={fichas[index]}\n            />\n        </ListItem>\n\n    )\n}\n\nrenderRowFichas.propTypes = {\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n};\n\nfunction Items(props) {\n    const profile = props.comprados;\n    const coins = props.coins;\n    const classes = useStyles();\n    const [openAvatar, setOpenAvatar] = useState(false);\n    const [openBanner, setOpenBanner] = useState(false);\n    const [openFicha, setOpenFicha] = useState(false);\n\n    if(profile != null) {\n        console.log(profile);\n        console.log(coins);\n        avatares = [];\n        banners = [];\n        fichas = [];\n        for (let i = 0; i < profile.length; i++) {\n            let word = profile[i];\n            if (word[0] == 'a') {\n                avatares.push(word);\n            } else if (word[0] == 'b') {\n                banners.push(word);\n            } else if (word[0] == 'f') {\n                fichas.push(word);\n            }\n        }\n    }\n\n\n\n\n    const handleClickAv = () => {\n        setOpenAvatar(!openAvatar);\n    };\n    const handleClickBa = () => {\n        setOpenBanner(!openBanner);\n    };\n    const handleClickFi = () => {\n        setOpenFicha(!openFicha);\n    };\n\n    const irATiendaAvatares = () =>{\n        props.onResponse(\"Avatar\")\n    }\n\n    const irATiendaBanners = () =>{\n        props.onResponse(\"Banner\")\n    }\n\n    const irATiendaFichas = () =>{\n        props.onResponse(\"Ficha\")\n    }\n\n  return (\n      <Card>\n        <CardHeader\n            subheader=\"Objetos adquiridos por el usuario\"\n            title=\"Objetos\"\n        />\n        <List>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickAv}>\n                  <ListItemText primary=\"Avatares\" />\n                  {openAvatar ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openAvatar} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={avatares.length}>\n                      {renderRowAvatars}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickBa}>\n                  <ListItemText primary=\"Banners\" />\n                  {openBanner ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openBanner} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={banners.length}>\n                      {renderRowBanners}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickFi}>\n                  <ListItemText primary=\"Formas de ficha\" />\n                  {openFicha ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openFicha} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={fichas.length}>\n                      {renderRowFichas}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n        </List>\n        <CardActions>\n         <Button\n            color=\"primary\"\n            fullWidth\n            variant=\"text\"\n            onClick={irATiendaAvatares}\n         >\n             Obtener Avatares\n         </Button>\n          <Button\n              color=\"primary\"\n              fullWidth\n              variant=\"text\"\n              onClick={irATiendaBanners}\n          >\n              Obtener Banners\n          </Button>\n          <Button\n              color=\"primary\"\n              fullWidth\n              variant=\"text\"\n              onClick={irATiendaFichas}\n          >\n              Obtener Fichas\n          </Button>\n        </CardActions>\n      </Card>\n\n  );\n}\n\nexport default Items;\n","import React, {useEffect, useState} from 'react'\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Helmet } from 'react-helmet';\nimport {\n    Box,\n    Container,\n    Grid,\n} from '@material-ui/core';\nimport AccountProfile from './account/AccountProfile';\nimport AccountProfileDetails from './account/AccountProfileDetails';\nimport SettingsPassword from './settings/SettingsPassword';\nimport Stats from './account/Stats'\nimport Items from './account/Items'\nimport axios from \"axios\";\nimport {getToken,removeUserSession} from \"./Utils/Common\";\nimport {ArrowBack} from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Profile(props) {\n\n    const classes = useStyles();\n    let [preg, setPreg] = useState(null);\n    let [res, setRes] = useState();\n    let [coins, setCoins] = useState(null);\n    let [wins, setWins] = useState(null);\n    let [ficha, setFicha] = useState(null);\n    let [banner, setBanner] = useState(null);\n    let [comprados, setComprados] = useState(null);\n    let [avatar, setAvatar] = useState(null);\n    let [njugadas, setNjugadas] = useState(null);\n    let [email, setEmail] = useState(null);\n    let [username, setUsername] = useState(null);\n\n\n    useEffect(() => {\n\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            setPreg(response.data.preg);\n            setRes(response.data.res);\n            setCoins(response.data.cns);\n            setWins(response.data.ng);\n            setFicha(response.data.fich);\n            setBanner(response.data.bnr);\n            setComprados(response.data.rfs);\n            setAvatar(response.data.avtr);\n            setNjugadas(response.data.nj);\n\n            setEmail(response.data.mail);\n            //username=response.data._id;\n            setUsername(response.data._id);\n\n            console.log(response.data)\n            console.log(response)\n            //setUserSession(response.data.token, response.data.user);\n        }).catch((code,message) => {\n            console.log(code.response)\n            /*if (error.response.status === 200) {\n                setError(error.response.data.message);\n                alert('usuario existente')\n            }else {\n                setError(\"Something went wrong. Please try again later.\");\n            }*/\n        });\n    }, []);\n\n    const handleDeleteUser = () => {\n        try {\n            var aceptar = window.confirm(\"Presione en OK para borrar cuenta para siempre\");\n            if(aceptar === true) {\n\n\n                axios.delete('https://unitrivia.herokuapp.com/api/profile', {\n                    headers: {\n                        'jwt': getToken()\n                    }\n                }).then(response => {\n                    console.log(response)\n                    removeUserSession();\n                    props.history.push('/login');\n                }).catch(error => {\n                    alert(error.message)\n                    console.log(error)\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n\n    }\n\n    const irATiendaAvatares = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Avatar'\n            }\n        })\n    }\n\n    const irATiendaBanners = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Banner'\n            }\n        })\n    }\n\n    const irATiendaFichas = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Ficha'\n            }\n        })\n    }\n\n    function handleResponseFromItem(response){\n\n        if(response === \"Avatar\"){\n            irATiendaAvatares();\n        }else if(response === \"Banner\"){\n            irATiendaBanners();\n        }else if(response === \"Ficha\"){\n            irATiendaFichas();\n        }\n    }\n\n\n    return (\n        <>\n            <Helmet>\n                <title>Account | Material Kit</title>\n            </Helmet>\n            <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/menu'}>\n                <ArrowBack color=\"primary\"/>\n                Volver\n            </IconButton>\n            <Box\n                sx={{\n                    backgroundColor: 'background.default',\n                    minHeight: '100%',\n                    py: 3\n                }}\n            >\n                <Container maxWidth=\"lg\">\n                    <Grid\n                        container\n                        spacing={3}\n                    >\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <AccountProfile user={username} mail={email} avatar={avatar} banner={banner} ficha={ficha}/>\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <AccountProfileDetails user={username} mail={email} pregu={preg} resu={res} />\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Stats jugadas={njugadas} ganadas={wins} coins={coins}/>\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Items comprados={comprados} coins={coins} onResponse={handleResponseFromItem.bind()}/>\n                        </Grid>\n\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Box sx={{ pt: 3 }}>\n                                <SettingsPassword />\n                            </Box>\n                        </Grid>\n                        <Button\n                            color=\"primary\"\n                            variant=\"contained\"\n                            onClick={handleDeleteUser}\n                        >\n                            Borrar usuario\n                        </Button>\n                    </Grid>\n\n                </Container>\n\n            </Box>\n        </>\n    );\n}\n\n\nexport default Profile;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {getToken, getUser} from './Common';\n\n// handle the private routes\nfunction NoGuestRoute({ component: Component, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={(props) => getToken() && getUser() ? <Component {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\n        />\n    )\n}\n\nexport default NoGuestRoute;","import React, {useEffect, useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getToken} from \"./Utils/Common\";\nimport {io} from \"socket.io-client\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalHeader, ModalBody, ModalFooter} from \"reactstrap\";\nimport TextField from \"@material-ui/core/TextField\";\nimport axios from \"axios\";\nimport {Card, CardContent} from \"@material-ui/core\";\n\nconst ENDPOINT = \"https://unitrivia.herokuapp.com/api/partida\";\n//const ENDPOINT = \"http://localhost:3000/api/partida\";\n\nconst debug = false;\n\nexport let conn = undefined;\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Play(props) {\n    const classes = useStyles();\n    const [connPassed, Pass] = useState(null);\n    const [modalAbierto ,modalAbiertoState] = useState(false);\n    let [esReconexion, setReconexion] = useState(false);\n    const code = useFormInput('');\n\n    useEffect( () => {\n\n\n    }, []);\n\n    const crearSala = ()=>{\n        console.assert(!debug,\"comienza crearSala\");\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt: getToken(),\n                operacion: \"crearSala\",\n                priv:\"true\"\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.assert(!debug,conn.connected);\n            console.assert(!debug,conn.disconnected);\n            console.assert(!debug,conn.nsp);\n            console.assert(!debug,conn);\n            if(conn.connected === true){\n                console.assert(!debug,\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.assert(!debug,\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n\n    }\n\n\n    const abrirModal = () =>{\n        modalAbiertoState(!modalAbierto);\n    }\n\n    const unirseSala = ()=>{\n        let salaAct = code.value;\n        console.assert(!debug,salaAct);\n\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"unirseSala\",\n                sala: salaAct\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.assert(!debug,conn.connected);\n            console.assert(!debug,conn.disconnected);\n            console.assert(!debug,conn.nsp);\n            console.assert(!debug,conn);\n\n            if(conn.connected === true ){\n                console.assert(!debug,\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.assert(!debug,\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n    }\n\n    const partidaAleatoria = () =>{\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"buscarPartida\"\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.assert(!debug,conn.connected);\n            console.assert(!debug,conn.disconnected);\n            console.assert(!debug,conn.nsp);\n            console.assert(!debug,conn);\n            if(conn.connected === true){\n                console.assert(!debug,\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.assert(!debug,\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n    }\n\n    const reconexion = () =>{\n        console.assert(!debug,conn);\n        conn = undefined;\n        console.assert(!debug,conn);\n        let conectado = undefined;\n\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"reconexion\"\n            }\n        });\n\n        console.assert(!debug,conn);\n        conn.on(\"connect\",()=>{\n            conectado=conn.connected;\n            if(conectado==true){\n                console.assert(!debug,\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.assert(!debug,\"no conectado\");\n                alert(\"Fallo al reconectar a partida\");\n            }\n        })\n    }\n\n    axios.get(ENDPOINT + \"/reconexion\",{headers: {\n            jwt: getToken()\n        }}).then((response) => {\n        setReconexion(response.data !== \"\");\n\n    }).catch((code, message) => {\n        console.assert(!debug,code.response)\n    });\n\n    return (\n            <Card>\n                <CardContent>\n\n                    <StyledMenu open={true}>\n                        <h1>UNITRIVIA</h1>\n                        <h2>JUGAR</h2>\n                        <Button onClick={partidaAleatoria}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"about us\"></span>\n                            PARTIDA ALEATORIA\n                        </Button>\n                        <Button  onClick={crearSala}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"price\"></span>\n                            CREAR SALA\n                        </Button>\n                        <Button onClick={abrirModal}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"contact\"></span>\n                            UNIRSE A SALA\n                        </Button>\n                        <Modal isOpen={modalAbierto == true}>\n                            <ModalHeader>\n                                Escriba el cdigo de sala\n                            </ModalHeader>\n                            <ModalBody>\n\n                                <form className={classes.form} noValidate>\n                                    <TextField\n\n                                        variant=\"outlined\"\n                                        margin=\"normal\"\n                                        required\n                                        fullWidth\n                                        id=\"code\"\n                                        label=\"Cdigo\"\n                                        name=\"code\"\n                                        autoComplete=\"Codigo\"\n                                        autoFocus\n                                        {...code}\n\n                                    />\n                                </form>\n\n                            </ModalBody>\n                            <ModalFooter>\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={unirseSala}\n\n                                >\n                                    Confirmar Cdigo\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    onClick={abrirModal}\n\n                                >\n                                    Cerrar\n                                </Button>\n\n                            </ModalFooter>\n                        </Modal>\n                        <Button onClick={reconexion}\n                           disabled={!esReconexion}>\n                            <span role=\"img\" aria-label=\"contact\"></span>\n                            RECONECTAR\n                        </Button>\n                        <a href={'/Menu'}>\n                            <span role=\"img\" aria-label=\"contact\"></span>\n                            ATRS\n                        </a>\n                    </StyledMenu>\n\n                </CardContent>\n            </Card>\n\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\n\n\nexport default Play;","import React from 'react';\nimport { Widget, addResponseMessage  } from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\nimport {conn} from \"../Play\";\n\n\n\n\nfunction Chat(props){\n\n    console.log(\"estoy en chat\");\n    console.log(conn);\n\n    /*let connTest1 = io(ENDPOINT,{\n        extraHeaders:{\n            jwt: getToken(),\n            operacion: \"crearSala\",\n            priv: \"true\"\n        }\n    });*/\n\n    conn.on('nuevoJugador',(user)=> {\n        const usuario = user.jugador;\n        addResponseMessage(\"El jugador \" + usuario + \" ha entrado a la sala.\");\n    })\n\n    conn.on('reconexionJugador',(user)=> {\n        const nombre = user.jugador;\n        addResponseMessage(\"El jugador \" + nombre + \" se ha reconectado.\");\n    })\n\n    conn.on('abandonoSala',(user)=>{\n        addResponseMessage(\"El jugador \" + user + \" ha abandonado la sala.\");\n    })\n\n    conn.on('jugadorSale',(user)=>{\n        addResponseMessage(\"El jugador \" + user + \" ha abandonado la partida\");\n    })\n\n    conn.on('chat', ({usuario, msg})=>{\n        let msgFull = 'Mensaje de ' + usuario + ': ' + msg;\n        addResponseMessage(msgFull);\n    })\n\n\n    const handleNewUserMessage = (newMessage) => {\n        console.log(`New message incomig! ${newMessage}`);\n        // Now send the message throught the backend API\n        conn.emit(\"mensaje\", `${newMessage}`);\n        //end backend\n        //addResponseMessage(\"que tal\");\n    }\n\n\n\n    return (\n        <div className=\"Chat\">\n            <Widget\n                handleNewUserMessage={handleNewUserMessage}\n                title=\"CHAT\"\n                subtitle=\"Chat de la sala actual\"\n            />\n\n        </div>\n    );\n\n}\n\nexport default Chat;","import React from 'react';\nimport './Cheese.css';\n\n\nfunction Cheese (props){\n        let cheeses = []\n    console.log(props.color);\n        props.color.forEach((color)=>{\n            cheeses.push(<div className={\"piece \" + color}></div>)})\n        //cheeses.push(<div className={\"piece \" + \"blue\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"yellow\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"brown\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"orange\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"pink\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"green\"}></div>)\n        return (\n            <div className = \"cheese\">\n                {cheeses}\n            </div>\n        );\n\n}\nexport default Cheese;","import React, {useEffect, useState} from 'react'\nimport ReactDOM from 'react-dom'\nimport {Card, CardContent, TextField} from '@material-ui/core';\n//import {io,socketIOClient} from \"socket.io-client\";\nimport Cheese from './Cheese';\n//import Cheese from './Cheese';\nimport {getToken} from \"../Utils/Common\";\n\nimport {conn} from \"../Play\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Room(props) {\n    const classes = useStyles();\n    let [coloresAcertados,setColoresAcertados]=useState([\"yellow\",\"pink\"])\n    let [jugadores,setJugadores] = useState([]);\n    let [codigoSala,setCodigoSala] = useState(null);\n    let [username,setUsername]=useState(\"\");\n    let [admin,setAdmin] = useState('');\n    let esprimero=true;\n\n    useEffect(() => {\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            setUsername(response.data._id);\n            console.log(jugadores);\n            console.log(response.data._id);\n            if (jugadores.length === 0 &&  esprimero) {\n                console.log(\"Es el primero, lo ponemos como admin\");\n                const list = jugadores.concat(response.data._id);\n                setAdmin(response.data._id);\n                setJugadores(list);\n            } else {\n                console.log(\"Se intenta meter un usuario que ya estaba\");\n            }\n        }).catch((code,message) => {\n            console.log(code.response)\n        });\n    }, []);\n    conn.on('nuevoJugador',(user)=> {\n        console.log(user);\n        console.log(admin);\n        if (!jugadores.includes(user)) {\n            console.log(\"Es nuevo de verdad\");\n            const list = jugadores.concat(user);\n            setJugadores(list);\n        } else {\n            console.log(\"Se intenta meter un usuario que ya estaba\");\n        }\n    })\n    conn.on('cargarJugadores',(users)=>{\n        console.log(users);\n        console.log(users.jugadores);\n        setAdmin(users.jugadores[0]);\n        esprimero=false;\n        //console.log(users.jugadores.prototype);\n        //setJugadores([...users.jugadores]);\n        setJugadores(users.jugadores);\n    })\n    conn.on('abandonoSala',(user)=>{\n        console.log(\"Entramos en abandono de sala \"+jugadores);\n        var arrayJugadores=jugadores;\n        var indexUser=arrayJugadores.indexOf(user);\n        if(indexUser>-1){//no ha dado error\n            console.log(\"Hemos sacado el index del jugador que abandona\");\n            arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n            setJugadores(arrayJugadores);\n        }else{\n            console.log(\"ha dado error el indexOf\");\n            setJugadores(arrayJugadores);\n        }\n    })\n    conn.on('cambioLider',({antiguo,nuevo})=>{\n        console.log(\"Antiguo lider: \"+antiguo+ \" nuevo: \"+nuevo);\n        var arrayJugadores=jugadores;\n        var indexUser=arrayJugadores.indexOf(antiguo);\n        if(indexUser>-1){//no ha dado error\n            console.log(\"Hemos sacado el index del jugador que abandona(en cambio Lider)\");\n            arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n            setJugadores(arrayJugadores);\n            setAdmin(nuevo);\n        }else{\n            console.log(\"ha dado error el indexOf\");\n\n        }\n    })\n    const quesitos=()=>{\n        console.log(\"EStoy en quesitos\");\n        conn.on('estadoPartida',(info)=>{\n            console.log(info);\n        })\n    }\n\n    const listarJugadores = () => {\n        const listJugadores = jugadores.map((jugador)=>\n            <li key=\"{jugador}\">{jugador}</li>\n        )\n        return(\n            <List dense className={classes.root}>\n                {jugadores.map((value) => {\n                    const labelId = `checkbox-list-secondary-label-${value}`;\n                    return (\n                        <div>\n                            <ListItem key={value} button>\n                                <ListItemText id={labelId} primary={`Line item ${value + 1}`} />\n                                <ListItemSecondaryAction>\n                                    <Cheese color={coloresAcertados}></Cheese>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n\n                        </div>\n\n                    );\n                })}\n            </List>\n        )\n    }\n    const devolverCodigoSala = () => {\n        conn.emit(\"obtenerIdSala\",(id)=>{\n            //console.log(\"En obtener id \");\n            console.assert(id!=='','Error al obtener idSala');\n            setCodigoSala(id);\n            //console.log(id);\n        })\n        //console.log(\"El identificador es :\");\n        return (\n            <h6>El codigo de la sala es {codigoSala}</h6>\n        )\n    }\n    const empezarPartida=()=>{\n        conn.on('comienzoPartida',()=>{\n            console.log(\"Comienza la partida\");\n        })\n    }\n    const botonEmpezar = () => {\n        console.log(\"Estoy en boton: username: \"+username+\"  y admin  \"+admin);\n        if(username===admin){\n            return(\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={empezarPartida}\n                >\n                    Empezar Partida\n                </Button>\n            )\n        }\n    }\n    return (\n        <div>\n            <div>\n                Hola\n            </div>\n            <div>\n                {listarJugadores()}\n            </div>\n            <div>\n                {devolverCodigoSala()}\n            </div>\n            <div>\n                {botonEmpezar()}\n            </div>\n        </div>\n\n    );\n}\n\n\nexport default Room;","import styled from 'styled-components'\nimport React from 'react'\n\n\nconst Title = styled.h1`\n  margin-top: 4em;\n  font-size: 48px;\n`;\n\nconst Points = styled.p`\n  font-size: 24px;\n  margin-bottom: 3em;\n`;\n\nfunction GameOver(props){\n    let pts = props.pts;\n    let estado;\n    if(pts === 1){\n        estado = \"CORRECTA\";\n    }else{\n        estado = \"INCORRECTA\";\n    }\n\n\n\n    return (\n        <>\n            <Title>Resultado</Title>\n            <Points>Respuesta {estado}</Points>\n\n\n        </>\n\n    )\n}\n\nexport default GameOver","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport GameOver from './GameOver';\n\n\nconst QuizWindow = styled.div`\n  text-align: center;\n  font-size: clamp(20px, 2.5vw, 24px);\n  margin-top: 10vh;\n`;\n\nconst Options = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst Option = styled.button`\n  display: block;\n  border: 1px solid #616A94;\n  border-radius: 15px;\n  padding: 15px 30px;\n  text-decoration: none;\n  color: #616A94;\n  background-color: #161A31;\n  transition: 0.3s;\n  font-size: 1em;\n  outline: none;\n  user-select: none;\n  margin-top: 1em;\n  cursor: pointer;\n\n  @media screen and (min-width: 1180px) {\n    &:hover {\n      color: white;\n      background-color: #616A94;\n    }\n  }\n`;\n\nconst Question = styled.div`\n  width: 70%;\n  margin: 0 auto;\n`;\n\nfunction Quiz(props) {\n\n    //console.log(props.pregunta)\n    let question = props.pregunta.pregunta.pregunta; //se sacara de props  pregunta.pregunta\n    //let question = \"preguntita brother\"; //se sacara de props\n\n    let incorrect_answers = props.pregunta.pregunta.resps_inc; //se sacara de props\n    let correct_answer = props.pregunta.pregunta.resp_c; //se sacara de props\n\n    console.log(correct_answer)\n\n    const [quiz, setQuiz] = useState([]);\n    const [number, setNumber] = useState(0);\n    const [pts, setPts] = useState(0);\n\n    const shuffle = (arr) => arr.sort(() => Math.random() - 0.5);\n\n    const pickAnswer = (e) => {\n        console.log(e)\n        var userAnswer = e.target.innerText;\n        console.log(e.target.innerText)\n        console.log(quiz[number])\n        console.log(userAnswer)\n        if (quiz[number].answer === userAnswer){\n            setPts(pts + 1);\n            props.onResponse({result: 1, casillaInfo: props.pregunta});\n        }else{\n            console.log('fallaste'+ quiz[number].answer +' '+userAnswer)\n            props.onResponse({result: 0, casillaInfo: props.pregunta});\n        }\n        setNumber(number + 1);\n\n    }\n\n    useEffect(() => {\n\n\n        let pregunta_global = {\n            question: question,\n            options: shuffle([...incorrect_answers, correct_answer]),\n            answer: correct_answer\n        }\n        setQuiz([pregunta_global]);\n\n\n\n    }, []);\n\n\n\n\n\n    return (\n        <div>\n        <QuizWindow>\n            { quiz[number] &&\n\n            <>\n                <Question dangerouslySetInnerHTML={{ __html: quiz[number].question }}></Question>\n\n                <Options>\n                    {quiz[number].options.map((item, index) => (\n                        <Option key={index} dangerouslySetInnerHTML={{ __html: item }} onClick={pickAnswer}></Option>\n                    ))}\n                </Options>\n            </>\n\n            }\n            {\n\n                number === 1 && <GameOver pts={pts}/>\n            }\n\n        </QuizWindow>\n        </div>\n    )\n}\n\nexport default Quiz;","import tinycolor from 'tinycolor2' // TODO: Make this smaller?\n\nexport function produceRgbShades (r, g, b, amount) {\n  let shades = []\n\n  const hsl = tinycolor(`rgb(${r}, ${g}, ${b})`).toHsl()\n\n  for (let i = 9; i > 1; i -= 8 / amount) { // Decrements from 9 - 1; i being what luminosity (hsl.l) is multiplied by.\n    hsl.l = 0.1 * i\n    shades.push(tinycolor(hsl).toRgb())\n  }\n\n  return shades\n}\n\nexport function colourToRgbObj (colour) { // TODO: Note which colours tinycolor() can take; i.e. hex / rgb strings, objects, etc.\n  return tinycolor(colour).toRgb()\n}\n\nexport function calculateBounds (min, max) { // i.e. min & max pixels away from the center of the canvas.\n  return {\n    inside: (cursorPosFromCenter) => { // our relative mouse-position is passed through here to check.\n      return cursorPosFromCenter >= min && cursorPosFromCenter <= max\n    }\n  }\n}\n\nexport function convertObjToString (obj) {\n  return tinycolor(obj).toRgbString()\n}\n\n// Method is helpful for generating a radius representative of the stroke + taking into account lineWidth.\nexport function getEffectiveRadius (trueRadius, lineWidth) {\n  return trueRadius - lineWidth / 2\n}\n\n// Method is helpful for generating a radius representative of the stroke + taking into account lineWidth.\nexport function getCasillaNumber (r, g, b) {\n  let casilla;\n  if (r === 59 && g === 56 && b === 135) {\n    casilla = 0\n  } else if (r === 255 && g === 255 && b === 255) {\n    casilla = 1\n  } else if (r === 0 && g === 136 && b === 19) {\n    casilla = 2\n  } else if (r === 0 && g === 145 && b === 226) {\n    casilla = 3\n  } else if (r === 255 && g === 100 && b === 0) {\n    casilla = 10\n  } else if (r === 255 && g === 255 && b === 254) {\n    casilla = 11\n  } else if (r === 236 && g === 215 && b === 0) {\n    casilla = 12\n  } else if (r === 0 && g === 136 && b === 18) {\n    casilla = 13\n  } else if (r === 0 && g === 145 && b === 225) {\n    casilla = 20\n  } else if (r === 255 && g === 255 && b === 253) {\n    casilla = 21\n  } else if (r === 255 && g === 100 && b === 1) {\n    casilla = 22\n  } else if (r === 0 && g === 145 && b === 224) {\n    casilla = 23\n  } else if (r === 0 && g === 136 && b === 17) {\n    casilla = 30\n  } else if (r === 255 && g === 255 && b === 252) {\n    casilla = 31\n  } else if (r === 236 && g === 215 && b === 1) {\n    casilla = 32\n  } else if (r === 59 && g === 56 && b === 134) {\n    casilla = 33\n  } else if (r === 255 && g === 0 && b === 235) {//\n    casilla = 40\n  } else if (r === 255 && g === 255 && b === 251) {\n    casilla = 41\n  } else if (r === 255 && g === 0 && b === 234) {\n    casilla = 42\n  } else if (r === 59 && g === 56 && b === 133) {\n    casilla = 43\n  } else if (r === 236 && g === 215 && b === 2) {\n    casilla = 50\n  } else if (r === 255 && g === 255 && b === 250) {\n    casilla = 51\n  } else if (r === 255 && g === 0 && b === 233) {\n    casilla = 52\n  } else if (r === 255 && g === 100 && b === 2) {\n    casilla = 53\n  }\n  else if (r === 255 && g === 100 && b === 3) {//radio 0\n    casilla = 63\n  } else if (r === 236 && g === 215 && b === 3) {\n    casilla = 62\n  } else if (r === 0 && g === 145 && b === 223) {\n    casilla = 61\n  }\n  else if (r === 255 && g === 0 && b === 237) {//radio 1\n    casilla = 73\n  } else if (r === 0 && g === 136 && b === 16) {\n    casilla = 72\n  } else if (r === 0 && g === 145 && b === 221) {\n    casilla = 71\n  }\n  else if (r === 59 && g === 56 && b === 132) {//radio 2\n    casilla = 83\n  } else if (r === 255 && g === 0 && b === 238) {\n    casilla = 82\n  } else if (r === 255 && g === 100 && b === 4) {\n    casilla = 81\n  }\n  else if (r === 236 && g === 215 && b === 4) {//radio 3\n    casilla = 93\n  } else if (r === 255 && g === 0 && b === 236) {\n    casilla = 92\n  } else if (r === 0 && g === 145 && b === 222) {\n    casilla = 91\n  }\n  else if (r === 255 && g === 100 && b === 5) {//radio 4\n    casilla = 103\n  } else if (r === 59 && g === 56 && b === 131) {\n    casilla = 102\n  } else if (r === 0 && g === 136 && b === 15) {\n    casilla = 101\n  }\n  else if (r === 0 && g === 136 && b === 14) {//radio 5\n    casilla = 113\n  } else if (r === 59 && g === 56 && b === 130) {\n    casilla = 112\n  } else if (r === 255 && g === 0 && b === 239) {\n    casilla = 111\n  }\n  return casilla\n}\n\n\nexport function getCoordByCasilla (casilla,i) {\n  let coord={x:0,y:0}\n  const offset=7\n  switch (casilla) {\n    case 0: coord.x=222.5 ;coord.y=4.6875+offset*i; break\n    case 1: coord.x=284.5 ;coord.y=11.6875+offset*i; break\n    case 2: coord.x=344.5 ;coord.y=23.6875+offset*i; break\n    case 3: coord.x=401.5 ;coord.y=57.6875+offset*i; break\n\n    case 10: coord.x=435.5;coord.y=111.6875+offset*i; break\n    case 11: coord.x=449.5;coord.y=166.6875+offset*i; break\n    case 12: coord.x=454.5;coord.y=220.6875+offset*i; break\n    case 13: coord.x=451.5;coord.y=278.6875+offset*i; break\n\n    case 20: coord.x=436.5;coord.y= 332.6875+offset*i; break\n    case 21: coord.x=404.5 ;coord.y=378.6875+offset*i; break\n    case 22: coord.x=343.5 ;coord.y=428.6875+offset*i; break\n    case 23: coord.x=287.5;coord.y= 448.6875+offset*i; break\n\n    case 30: coord.x=229.5;coord.y= 450.6875+offset*i; break\n    case 31: coord.x=175.5 ;coord.y=443.6875+offset*i; break\n    case 32: coord.x=124.5;coord.y= 423.6875+offset*i; break\n    case 33: coord.x=82.5 ;coord.y=385.6875+offset*i; break\n\n    case 40: coord.x=38.5 ;coord.y=341.6875+offset*i; break\n    case 41: coord.x=15.5 ;coord.y=286.6875+offset*i; break\n    case 42: coord.x=5.5 ;coord.y=223.6875+offset*i; break\n    case 43: coord.x=15.5 ;coord.y=167.6875+offset*i; break\n\n    case 50: coord.x=49.5 ;coord.y=108.6875+offset*i; break\n    case 51: coord.x=82.5 ;coord.y=67.6875+offset*i; break\n    case 52: coord.x=118.5 ;coord.y=38.6875+offset*i; break\n    case 53: coord.x=169.5 ;coord.y=13.6875+offset*i; break\n      //radio 0\n    case 61: coord.x=230.5 ;coord.y=62.6875+offset*i; break\n    case 62: coord.x=230.5 ;coord.y=113.6875+offset*i; break\n    case 63: coord.x=231.5;coord.y= 161.6875+offset*i; break\n      //radio 1\n\n    case 71: coord.x=377.5 ;coord.y=145.6875+offset*i; break\n    case 72: coord.x=330.5 ;coord.y=170.6875+offset*i; break\n    case 73: coord.x=293.5 ;coord.y=194.6875+offset*i; break\n      //radio 2\n    case 81: coord.x=390.5 ;coord.y=300.6875+offset*i; break\n    case 82: coord.x=343.5 ;coord.y=277.6875+offset*i; break\n    case 83: coord.x=310.5 ;coord.y=259.6875+offset*i; break\n      //radio 3\n    case 91: coord.x=232.5 ;coord.y=392.6875+offset*i; break\n    case 92: coord.x=236.5 ;coord.y=340.6875+offset*i; break\n    case 93: coord.x=235.5 ;coord.y=309.6875+offset*i; break\n      //radio 4\n    case 101: coord.x=92.5 ;coord.y=319.6875+offset*i; break\n    case 102: coord.x=135.5 ;coord.y=293.6875+offset*i; break\n    case 103: coord.x=179.5 ;coord.y=267.6875+offset*i; break\n      //radio 5\n    case 111: coord.x=94.5 ;coord.y=145.6875+offset*i; break\n    case 112: coord.x=136.5 ;coord.y=169.6875+offset*i; break\n    case 113: coord.x=179.5;coord.y= 195.6875+offset*i; break\n\n    case 777: coord.x=250;coord.y= 250+offset*i; break\n  }\n  return coord\n\n\n}","export default [\n  '#ff00ea',\n  '#3b3885',\n  '#ecd702',\n  '#fffffa',\n  '#ff00e9',\n  '#ff6402',\n  '#3b3887',//este es el primero\n  '#ffffff',\n  '#008813',\n  '#0091e2',\n  '#ff6400',\n  '#fffffe',\n  '#ecd700',\n  '#008812',\n  '#0091e1',\n  '#fffffd',\n  '#ff6401',\n  '#0091e0',\n  '#008811',\n  '#fffffc',\n  '#ecd701',//\n  '#3b3886',\n  '#ff00eb',\n  '#fffffb'\n]\n","// NOTES:\n// -- Array-destructuring assignment won't work w vanilla ie11; needs babel-polyfill lol\n\nimport React, {Component, useState} from 'react'\nimport Button from '@material-ui/core/Button';\nimport PopupState from 'material-ui-popup-state';\nimport Quiz from '../../Quiz/Quiz'\n\nimport PropTypes from 'prop-types'\n\n// Utils:\nimport {\n  calculateBounds,\n  colourToRgbObj,\n  convertObjToString,\n  getCasillaNumber, getCoordByCasilla,\n  getEffectiveRadius,\n  produceRgbShades\n} from '../../utils/utils'\nimport hexStrings from '../../utils/hexStrings'\nimport {Card, CardContent, Modal,  Typography} from '@material-ui/core'\nimport {conn} from '../../../../Play'\nimport {getToken} from \"../../../../Utils/Common\";\nimport {green} from \"@material-ui/core/colors\";\nimport {CountdownCircleTimer} from \"react-countdown-circle-timer\";\nimport axios from \"axios\";\n// Global-vars:\nconst fullCircle = 2 * Math.PI\nconst quarterCircle = fullCircle / 4\n\nclass ColourWheel extends Component {\n\n  constructor (props) {\n\n    super(props)\n\n    this.state = {\n      rgb: null,\n      innerWheelOpen: false,\n      centerCircleOpen: false,\n      numPlayers: 0,\n      positionsX: [250,\n        250,\n        250,\n        250,\n        250,\n        250],\n      positionsY: [250,\n        250+10\n        ,250+20,\n        250+30,\n        250+40,\n        250+50],\n      puedoMover: false,\n      playerName: ['1','2','3','4','5','6'],\n      dado: 0,\n      quienSoy: 0,\n      posiblesJugadas: null,\n      casillaActualInfo: null,\n      desactivado:true,\n      open: false,\n      imagenes: [],\n      mostrarFicha:false,\n      pintarQuesito:false,\n      prueba: false,\n      botonCerrar: true,\n      contestada: false\n    }\n\n    // Initialised just before the DOM has loaded; after constructor().\n    this.outerWheelBounds = null\n    this.innerWheelBounds = null\n    this.centerCircleBounds = null\n\n    this.outerWheelRadius = null\n    this.innerWheelRadius = null\n    this.centerCircleRadius = null\n    this.firstSpacerRadius = null\n    this.secondSpacerRadius = null\n\n    // Initialised once the DOM has loaded.\n    this.canvasEl = null\n    this.ctx = null\n\n    // Bindings:\n    this.onCanvasHover = this.onCanvasHover.bind(this)\n    this.onCanvasClick = this.onCanvasClick.bind(this)\n  }\n\n\n  // MARK - Common:\n  getRelativeMousePos (clientX, clientY) {\n    const { radius } = this.props\n\n    const canvasPos = this.canvasEl.getBoundingClientRect()\n    const h = radius * 2\n    const w = radius * 2\n\n    // evtPos relative to our canvas.\n    const onCanvas = {\n      x: clientX - canvasPos.left,\n      y: clientY - canvasPos.top\n    }\n\n    // e is our mouse-position relative to the center of the canvasEl; using pythag\n    const fromCenter = Math.sqrt(\n        (onCanvas.x - w / 2) * (onCanvas.x - w / 2) +\n        (onCanvas.y - h / 2) * (onCanvas.y - h / 2)\n    )\n\n    // This returns an object in which we have both mouse-pos relative to the canvas, as well as the true-middle.\n    return {\n      fromCenter,\n      onCanvas\n    }\n  }\n\n  initCanvas () {\n    this.state.numPlayers=this.props.numPlayers\n    const { radius } = this.props\n\n    const width = radius * 2\n    const height = radius * 2\n\n    this.ctx.clearRect(0, 0, width, height)\n\n    this.drawOuterWheel(1)\n    this.drawSpacers()\n    //this.drawCenterCircle()\n    //this.drawPlayers()\n  }\n\n  // MARK - Life-cycle methods:\n  componentWillMount () {\n    const { radius, lineWidth, padding } = this.props\n\n    // Setting effective radii:\n    this.outerWheelRadius = radius\n    this.innerWheelRadius = this.outerWheelRadius - lineWidth - padding\n    this.centerCircleRadius = this.innerWheelRadius - lineWidth - padding\n    this.firstSpacerRadius = this.outerWheelRadius - lineWidth // NOTE: effectiveRadius will take into account padding as lineWidth.\n    this.secondSpacerRadius = this.innerWheelRadius - lineWidth\n\n    // Defining our bounds-objects, exposes a .inside(e) -> boolean method:\n    this.outerWheelBounds = calculateBounds(radius - lineWidth, radius)\n    this.innerWheelBounds = calculateBounds(\n        this.innerWheelRadius - this.centerCircleRadius,\n        this.innerWheelRadius\n    )\n    this.centerCircleBounds = calculateBounds(0, this.centerCircleRadius)\n    this.firstSpacerBounds = calculateBounds(\n        this.firstSpacerRadius - padding,\n        this.firstSpacerRadius\n    )\n    this.secondSpacerBounds = calculateBounds(\n        this.secondSpacerRadius - padding,\n        this.secondSpacerRadius\n    )\n  }\n\n\n  componentDidMount () {\n    // Giving this context to our parent component.\n    this.props.onRef(this)\n\n    // Initialising our canvas & context objs.\n    this.canvasEl = document.getElementById('colour-picker')\n    this.ctx = this.canvasEl.getContext('2d')\n\n    if (this.props.preset) {\n      const rgb = colourToRgbObj(this.props.presetColour)\n\n      this.setState({ rgb }, () => {\n        this.drawInnerWheel()//borrar lo anterior\n        this.drawOuterWheel(1)//dibujar rueda\n        this.drawRadius()//dibujar radios\n        this.drawSpacers()//dibujar spacer\n        this.drawCenterCircle()//dibujar circulo central con los jugadores\n      })\n    } else {\n      this.drawOuterWheel(1)\n      this.drawSpacers()\n    }\n\n    /*conn.on('comienzoPartida', () => {\n      setTimeout(()=>{this.comienzo()}, 100);a\n    })*/\n\n    conn.on(\"jugada\",(res)=>{\n      let indice=0;\n      for(var i=0;i<this.state.numPlayers;i++){\n        if(this.state.playerName[i]===res.user){\n          indice=i\n        }\n      }\n      let coords=getCoordByCasilla(res.casilla,indice)\n      const vecx=this.state.positionsX;\n      vecx[indice]=coords.x;\n      const vecy=this.state.positionsY;\n      vecy[indice]=coords.y;\n      this.setState({positionsX: vecx,positionsY: vecy})\n      this.inicializarTablero()\n      this.props.onResponse({quesito: res.ques, user: res.user});\n\n\n\n    })\n  }\n\n  /*comienzo(){\n    console.log(\"Comienza la partida\");\n    let quienSoy=0\n    for(var i=0;i<JSON.parse(getPlayers()).length;i++){\n      if(JSON.parse(getPlayers())[i]===getUser()){\n        quienSoy=i\n      }\n    }\n    this.setValores(JSON.parse(getPlayers()),JSON.parse(getPlayers()).length,quienSoy)\n    console.log('dibujand')\n\n    //this.drawCenterCircle()\n    this.inicializarTablero()\n  }*/\n\n\n  componentWillUnmount () {\n    this.props.onRef(undefined)\n  }\n\n  // MARK - mouse-events:\n  onCanvasHover ({ clientX, clientY }) {\n    const evt = this.getRelativeMousePos(clientX, clientY)\n\n    // Cases for mouse-location:\n    if (this.outerWheelBounds.inside(evt.fromCenter)) {\n      this.canvasEl.style.cursor = 'crosshair'\n    } else if (\n        this.innerWheelBounds.inside(evt.fromCenter) &&\n        this.state.innerWheelOpen\n    ) {\n      this.canvasEl.style.cursor = 'crosshair'\n    } else if (\n        this.centerCircleBounds.inside(evt.fromCenter) &&\n        this.state.centerCircleOpen\n    ) {\n      // TODO: Have it clear on click?\n      this.canvasEl.style.cursor = 'pointer'\n    } else {\n      this.canvasEl.style.cursor = 'auto'\n    }\n  }\n\n  onCanvasClick ({ clientX, clientY }) {\n    const evt = this.getRelativeMousePos(clientX, clientY)\n\n    // Cases for click-events:\n    if (this.outerWheelBounds.inside(evt.fromCenter)) {\n      this.outerWheelClicked(evt.onCanvas)\n    } else if (\n        this.innerWheelBounds.inside(evt.fromCenter)\n    ) {\n      this.innerWheelClicked(evt.onCanvas)\n    }\n  }\n\n  // MARK - Clicks & action methods:\n  pregunta=true\n\n  outerWheelClicked (evtPos) {\n    const { radius,colours } = this.props\n\n    // returns an rgba array of the pixel-clicked.\n    const rgbaArr = this.ctx.getImageData(evtPos.x, evtPos.y, 1, 1).data\n    const [r, g, b,opac] = rgbaArr\n\n    const rgb = { r, g, b }\n\n    // Whether the user wants rgb-strings or rgb objects returned.\n    const rgbArg = convertObjToString(rgb) // TODO: Let user set different return values in props; e.g. rbg obj, string, etc.\n    this.pregunta=false;\n    this.props.onColourSelected(rgbArg)\n    let opa\n    /*if (r == 255 && g == 255 && b == 255) {\n      opa = 0.1\n    } else {\n      opa = 1\n    }*/\n    opa=1\n\n\n    this.state.desactivado=false\n    if(opac===255 && this.state.puedoMover===true){\n\n\n      for (let j=0; j<this.state.posiblesJugadas.length; j++){\n        var arrayPosiblesJugadas=this.state.posiblesJugadas\n        if(arrayPosiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n          this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n          this.setState({casillaActualInfo: arrayPosiblesJugadas[j]})\n        }\n      }\n      if(this.state.casillaActualInfo.casilla.tipo===\"Dado\"){\n        this.props.activarDado();\n        this.state.desactivado=true\n        this.state.puedoMover=true;\n        conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n          quesito: \"\",\n          finTurno: false ,\n        }, (res)=>{\n          console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n          this.props.activarDado();\n        });\n      }else{\n        this.state.puedoMover=false;\n        this.handleOpen()\n      }\n      this.drawInnerWheel()\n      this.drawOuterWheel(opa)\n      this.changePosition(evtPos.x, evtPos.y,this.state.quienSoy)\n      this.drawRadius()\n      this.drawSpacers()\n      this.drawCenterCircle()\n\n    }\n    this.setState(\n        {\n          rgb,\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n        },\n        () => {\n\n\n          /*if(opac===255 && this.state.puedoMover===true){\n\n\n            for (let j=0; j<this.state.posiblesJugadas.length; j++){\n              console.log('nume'+this.state.posiblesJugadas[j].casilla.num)\n              if(this.state.posiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n                this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n              }\n            }\n            if(this.state.casillaActualInfo.casilla.tipo===\"Dado\"){\n              this.state.puedoMover=true;\n              conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n                quesito: \"\",\n                finTurno: false ,\n              }, (res)=>{\n                console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n              });\n            }else{\n              this.state.puedoMover=false;\n            }\n            this.drawInnerWheel()\n            this.drawOuterWheel(opa)\n            this.changePosition(evtPos.x, evtPos.y)\n            this.drawRadius()\n            this.drawSpacers()\n            this.drawCenterCircle()\n\n          }*/\n        }\n    )\n\n\n\n\n  }\n\n  innerWheelClicked (evtPos) {\n    const rgbaArr = this.ctx.getImageData(evtPos.x, evtPos.y, 1, 1).data\n    const [r, g, b,opac] = rgbaArr\n\n    const rgb = { r, g, b }\n\n    const rgbArg = convertObjToString(rgb)\n\n\n    this.props.onColourSelected(rgbArg)\n    this.state.desactivado=false\n    this.setState(\n        {\n          rgb,\n          centerCircleOpen: true\n        },\n        () => {\n\n        }\n    )\n    if(opac===255 && this.state.puedoMover===true ){\n      this.state.puedoMover=false;\n      this.handleOpen()\n      for (let j=0; j<this.state.posiblesJugadas.length; j++){\n        if(this.state.posiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n          this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n        }\n      }\n\n      this.drawInnerWheel()\n      this.drawOuterWheel(1)\n      this.changePosition(evtPos.x, evtPos.y,this.state.quienSoy)\n      this.drawRadius()\n      this.drawSpacers()\n      this.drawCenterCircle()\n    }\n  }\n\n  clear (callback = false) {\n    this.setState(\n        {\n          rgb: '#ffffff',\n          innerWheelOpen: false,\n          centerCircleOpen: false\n        },\n        () => {\n          // Reset state & re-draw.\n          this.initCanvas()\n          this.drawCenterCircle()\n          if (callback) callback()\n        }\n    )\n  }\n\n  dibujarTablero(casillasMarcadas=[]){\n\n    // Reset state & re-draw.\n    //this.initCanvas()\n\n    this.drawInnerWheel()\n    const num1=Math.floor(Math.random() * 24) + 1;\n    const num2 = Math.floor(Math.random() * 24) + 1;\n\n    this.drawOuterWheel(1,casillasMarcadas)\n    this.drawRadius(0.1,casillasMarcadas)\n    this.drawSpacers()\n    this.drawCenterCircle()\n    //this.drawPlayers()//aadido\n  }\n\n  jugada (dado,callback = false) {\n    this.setState(\n        {\n          rgb: '#ffffff',\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n        },\n        () => {\n          //dibujar tablero\n          //this.drawPosition()\n\n          if (callback) callback()\n        }\n    )\n\n\n    conn.emit(\"posiblesJugadas\", dado, (res)=>{\n\n      this.state.posiblesJugadas=res['info'];\n      if(res['res']!=='err'){\n        if(res['info']===\"No es el turno.\"){\n          this.state.puedoMover=false;\n          alert('No es tu turno')\n        }else{\n          this.state.puedoMover=true;\n        }\n        let casillas=[];\n        for(var i=0;i<res['info'].length;i++){\n\n          casillas[i]=res['info'][i].casilla.num\n        }\n        if(this.state.puedoMover){//si es mi turno\n          this.dibujarTablero(casillas)\n        }\n      }else{\n        if(res['info']===\"No es el turno.\"){\n          this.state.puedoMover=false;\n          alert('No es tu turno')\n        }\n      }\n      this.props.desactivarDado();\n\n\n    })\n\n\n  }\n\n\n\n  inicializarTablero(){\n    this.drawInnerWheel()//borrar lo anterior\n    this.drawOuterWheel(1)//dibujar rueda\n    this.drawRadius()//dibujar radios\n    this.drawSpacers()//dibujar spacer\n    this.drawCenterCircle()//dibujar circulo central con los jugadores\n    //this.drawPlayers()\n  }\n\n  setQuienSoy(quiensoy){\n    this.setState({quiensoy: quiensoy});\n  }\n\n  setValores(players,numplayers,quiensoy){\n    let imgs=[]\n    let playernames=[]\n    for(var i=0;i<numplayers;i++){\n      playernames.push(players[i].nombre)\n      imgs.push(players[i].ficha)\n    }\n    /*this.state.playerName=playernames\n    this.state.numPlayers=numplayers\n    this.state.numPlayers=numplayers*/\n    this.setState({quienSoy: quiensoy})\n    this.setState({playerName:playernames,numPlayers:numplayers})\n    this.setState({imagenes: imgs})\n  }\n\n\n\n\n  iniciarPartida (callback = false) {\n\n    const { radius } = this.props\n\n    this.setState(\n        {\n\n          rgb: '#ffffff',\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n\n\n        },\n        () => {\n          // Reset state & re-draw.\n\n\n        }\n    )\n    //this.inicializarTablero()\n\n\n\n  }\n\n  cargarPartida(casillas,quiensoy){\n    for(var i=0; i< casillas.length;i++){\n      let coords=getCoordByCasilla(casillas[i],i)\n      //this.state.positionsX[player]=coords.x;\n      //this.state.positionsY[player]=coords.y;\n      const vecx=this.state.positionsX;\n      vecx[i]=coords.x;\n      const vecy=this.state.positionsY;\n      vecy[i]=coords.y;\n      this.setState({positionsX: vecx,positionsY: vecy})\n\n    }\n    this.inicializarTablero()\n  }\n\n  // MARK - Drawing:\n\n\n\n  drawOuterWheel (opa,casillasMarcadas) {\n    // TODO: Draw outline; separate method.\n    const { radius, colours, lineWidth } = this.props\n    const height = radius * 2\n    const width = radius * 2\n\n    // This value ensures that the stroke accounts for the lineWidth provided to produce an accurately represented radius.\n    const effectiveRadius = getEffectiveRadius(radius, lineWidth)\n\n    // Converting each colour into a relative rgb-object we can iterate through.\n    const rgbArr = colours.map((colour) => colourToRgbObj(colour))\n\n    rgbArr.forEach((rgb, i) => {\n\n      this.ctx.beginPath()\n\n      // Creates strokes 1 / rgbArr.length of the circle circumference.\n      const startAngle = (fullCircle / rgbArr.length) * i\n      const endAngle = (fullCircle / rgbArr.length) * (i + 1)\n      this.ctx.arc(\n          width / 2,\n          height / 2,\n          effectiveRadius,\n          startAngle + 3,\n          endAngle + 3\n      )\n      this.ctx.lineWidth = lineWidth // This is the width of the innerWheel.\n      //this.ctx.fillText('holaas dfa sdf',50+i*5 ,50+i*5);\n      // Stroke-style changes based on the shade:\n      //this.ctx.strokeText('h',50+i*5 ,50+i*5) ;\n      //rgb.r=rgb.r-100;\n      if (casillasMarcadas != null) {\n        let op = 0.1\n        casillasMarcadas.forEach((val, j) => {\n          if (getCasillaNumber(rgb.r, rgb.g, rgb.b) === (val)) {\n            op = 1\n          }\n\n          this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${op})`\n        })\n        if(op!=1){\n          this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${op})`\n\n        }\n      }else{\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${opa})`\n\n      }\n      this.ctx.stroke()\n      this.ctx.closePath()\n\n\n    })\n  }\n\n  drawSpacers () {\n    if (this.props.spacers) {\n      this.drawSpacer(this.firstSpacerRadius)\n      //this.drawSpacer(this.secondSpacerRadius)\n    }\n  }\n\n  drawSpacer (spacerRadius) {\n    const {\n      radius,\n      padding,\n      spacers: { colour, shadowColour, shadowBlur }\n    } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    const effectiveRadius = getEffectiveRadius(spacerRadius, padding)\n\n    this.ctx.beginPath()\n\n    this.ctx.arc(width / 2, height / 2, effectiveRadius, 0, fullCircle)\n    this.ctx.lineWidth = padding\n\n    this.ctx.shadowColor = shadowColour\n    this.ctx.shadowBlur = shadowBlur\n    this.ctx.strokeStyle = colour\n    this.ctx.stroke()\n    this.ctx.closePath()\n\n    // To reset our shadowColor for other strokes.\n    this.ctx.shadowColor = 'transparent'\n  }\n\n  drawRadius (opa,casillasMarcadas=[]) {\n    this.drawRad(-27,-90,0,['#ff6403','#ecd703','#0091df'],opa,casillasMarcadas)//radio 0\n    this.drawRad(27,90,180,['#ecd704','#ff00ec','#0091de'],opa,casillasMarcadas)//radio 3\n    this.drawRad(65,-70,60,['#ff00ed','#008810','#0091dd'],opa,casillasMarcadas)//radio 1\n    this.drawRad(94,20,120,['#3b3884','#ff00ee','#ff6404'],opa,casillasMarcadas)//radio 2\n    this.drawRad(-65,70,240,['#ff6405','#3b3883','#00880f'],opa,casillasMarcadas)//radio 4\n    this.drawRad(-94,-20,-60,['#00880e','#3b3882','#ff00ef'],opa,casillasMarcadas)//radio 5\n\n  }\n\n  drawRad (xs,ys,angle,colors,opa=1,casillasMarcadas=[]) {\n    // raf setup.\n    const { radius } = this.props\n    this.ctx.beginPath()\n    //65,-70 y 60\n    //90,27 y 120\n    //-65,70 y 240\n    //-90,-27 y -60\n    let x = [xs]//-27,27,\n    let y = [ys]//-90,90\n    this.ctx.translate(radius + x[0], radius + y[0]);\n    this.ctx.rotate(angle * Math.PI/180 );\n    this.ctx.translate(-(radius + x[0]),-( radius + y[0]));\n    for (var i=0;i<3;i++){\n      const rgb = colourToRgbObj(colors[i])\n      if (casillasMarcadas.length != 0) {\n        let marcada=0\n        casillasMarcadas.forEach((val, j) => {\n          if (getCasillaNumber(rgb.r, rgb.g, rgb.b) === (val)) {\n            this.ctx.fillStyle = `rgb(${rgb.r},${rgb.g},${rgb.b},${1})`\n            marcada=1\n          }\n        })\n        if(marcada!=1){\n          this.ctx.fillStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${0.1})`\n\n        }\n      }else{\n        this.ctx.fillStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${opa})`\n\n      }\n      this.ctx.fillRect(\n          radius + x[0],\n          radius + y[0]-50*i,\n          50, 50\n      );\n      this.ctx.stroke()\n\n    }\n\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.closePath()\n  }\n\n  changePosition(x,y,player=0) {\n\n    let coords=getCoordByCasilla(this.state.casillaActualInfo.casilla.num,player)\n    //this.state.positionsX[player]=coords.x;\n    //this.state.positionsY[player]=coords.y;\n    const vecx=this.state.positionsX;\n    vecx[player]=coords.x;\n    const vecy=this.state.positionsY;\n    vecy[player]=coords.y;\n    this.setState({positionsX: vecx,positionsY: vecy})\n\n  }\n\n  drawInnerWheel (animationPercentage = 0) {\n    // raf setup.\n    let requestAnimationFrame =\n        window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.msRequestAnimationFrame\n    window.requestAnimationFrame = requestAnimationFrame\n\n    const {\n      rgb: { r, g, b }\n    } = this.state\n    const { radius, lineWidth, shades, animated } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    const effectiveRadius = getEffectiveRadius(\n        this.innerWheelRadius,\n        lineWidth\n    )\n\n    // Re-initialising canvas.\n    this.ctx.clearRect(0, 0, width, height)\n\n    //this.drawOuterWheel(1);\n    //this.drawRadius();\n    //this.drawSpacers()\n\n    const rgbShades = produceRgbShades(r, g, b, shades)\n\n    // Different functions for drawing our inner-wheel of shades.\n    function drawShades () {\n      rgbShades.forEach((rgb, i) => {\n        this.ctx.beginPath()\n\n        const startAngle = (fullCircle / rgbShades.length) * i + quarterCircle\n        const endAngle =\n            (fullCircle / rgbShades.length) * (i + 1) + (1 / 2) * Math.PI\n\n        this.ctx.arc(\n            width / 2,\n            height / 2,\n            effectiveRadius,\n            startAngle,\n            endAngle\n        )\n        this.ctx.lineWidth = lineWidth // This is the width of the innerWheel.\n\n        // Stroke style changes based on the shade:\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n        this.ctx.stroke()\n        this.ctx.closePath()\n      })\n    }\n\n    function animateShades () {\n      rgbShades.forEach((rgb, i) => {\n        this.ctx.beginPath()\n\n        const startAngle = (fullCircle / rgbShades.length) * i + quarterCircle\n        const endAngle =\n            (fullCircle / rgbShades.length) * (i + 1) + (1 / 2) * Math.PI\n\n        this.ctx.arc(\n            width / 2,\n            height / 2,\n            effectiveRadius,\n            startAngle,\n            endAngle\n        )\n        this.ctx.lineWidth = lineWidth * animationPercentage // This is the width of the innerWheel.\n\n        // Stroke style changes based on the shade:\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n        this.ctx.stroke()\n        this.ctx.closePath()\n      })\n\n      // TODO: Make this animation speed dynamic.\n      animationPercentage += 1 / 10 // i.e. 1 / x frames\n\n      // Essentially re-draws rgbShades.forEach until the animationPercentage reaches 1, i.e. 100%\n      if (animationPercentage < 1) requestAnimationFrame(animateShades)\n    }\n\n    animateShades = animateShades.bind(this)\n    drawShades = drawShades.bind(this)\n\n    if (animated) {\n      //animateShades()\n    } else {\n      // TODO: Refactor into its own func.\n      //drawShades()\n    }\n  }\n\n  drawCenterCircle () {\n    const { rgb } = this.state\n    const { radius } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n    this.ctx.lineWidth = 0\n\n    this.ctx.beginPath()\n    this.ctx.arc(\n        width / 2,\n        height / 2,\n        50,\n        0,\n        2 * Math.PI\n    )\n    this.ctx.fillStyle = `rgb(${255}, ${255}, ${255})`\n    this.ctx.fill()\n    this.ctx.lineWidth = 0.1\n    this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n    this.ctx.stroke()\n    this.ctx.closePath()\n    this.drawPlayers()\n  }\n\n  cargarImagen(){\n    console.log(\"Poniendo imagenes...\")\n    console.log(this.state.imagenes)\n    let images=[]\n    for(var i=0; i<this.state.imagenes.length;i++){\n      const imageObj1 = new Image();\n      imageObj1.onload = ()=>{\n        this.setState({prueba: !this.state.prueba})\n      };\n      imageObj1.src= '/images/fichas/'+this.state.imagenes[i]+'.png';\n      images.push(imageObj1)\n    }\n    //imageObj1.src= 'http://i.stack.imgur.com/h5RjZ.png';\n    //imageObj1.src= '/images/fichas/ficha0.png';\n    return images\n  }\n\n  drawPlayers () {\n    console.log(\"Escribiendo jugadores...\")\n    console.log(this.state.playerName)\n\n    const { radius } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    //this.ctx.beginPath()\n    this.ctx.beginPath()\n    this.ctx.fillStyle = `rgb(${0}, ${0}, ${0})`\n    //const imageObj1 = new Image();\n    //imageObj1.src= 'http://i.stack.imgur.com/h5RjZ.png';\n    //imageObj1.src= '/images/avatars/avatar_6.png';\n    const imageObj1=this.cargarImagen()\n\n\n    for(var i=0;i<this.state.numPlayers;i++){\n      //console.log(this.state.playerName[i])\n\n      this.ctx.fillText(\n          this.state.playerName[i],\n          this.state.positionsX[i]+25,\n          this.state.positionsY[i]+12.5\n      )\n\n\n      //imageObj1.crossOrigin = \"Anonymous\";\n\n      this.ctx.drawImage(imageObj1[i],this.state.positionsX[i],this.state.positionsY[i],25,25)\n\n      \n    }\n\n\n\n    //this.ctx.stroke()\n    this.ctx.closePath()\n  }\n\n  getPosiblesJugadas(){\n    return this.state.casillaActualInfo\n  }\n\n\n  handleResponseFromQuiz=(response)=>{\n\n    this.setState({botonCerrar:false})\n    this.setState({pintarQuesito:true})\n\n    conn.emit(\"actualizarJugada\", {casilla: response.casillaInfo.casilla.num,\n      quesito: response.casillaInfo.casilla.tipo===\"Quesito\"&&response.result===1?response.casillaInfo.casilla.categoria:\"\",\n      finTurno: response.result===0  //?true:false ,\n    }, (res)=>{\n      console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n      console.log(res['info']);\n\n    });\n    if(response.result===1){\n      this.props.activarDado();\n\n      axios.post('https://unitrivia.herokuapp.com/api/tienda/insertarMonedas',{},{headers: {\n          cantidad: 1,jwt: getToken()\n        }}).then((response) => {\n      }).catch((code) => {\n        console.log(code.response)\n      });\n\n    }\n    if(response.result===1 && response.casillaInfo.casilla.tipo===\"Quesito\"){\n      this.props.onResponse({quesito: response.casillaInfo.casilla.categoria,user: this.props.username});\n    }\n    this.setState({contestada: true})\n    //this.handleClose()\n\n\n  }\n\n  handleOpen = () => {\n\n    this.state.open=true;\n  };\n\n  handleClose = () => {\n\n    this.setState({open: false})\n    this.setState({botonCerrar:true})\n    this.setState({contestada: false})\n  };\n  getOpen(){\n    return this.state.open\n  }\n\n\n  render () {\n\n\n\n    const { radius, dynamicCursor } = this.props\n\n\n\n    return dynamicCursor ? (\n        <div>\n          <canvas\n              id=\"colour-picker\"\n              onClick={this.onCanvasClick}\n              onMouseMove={this.onCanvasHover}\n              width={`${radius * 2}px`}\n              height={`${radius * 2}px`}\n          />\n          <div>\n            <PopupState variant=\"popover\" popupId=\"demo-popup-popover\">\n              {(popupState) => (\n                  <div>\n\n\n                    <Modal\n                        open={this.getOpen()}\n                        onClose={this.handleClose}\n                        aria-labelledby=\"simple-modal-title\"\n                        aria-describedby=\"simple-modal-description\"\n                        disableBackdropClick={this.getOpen()}\n\n\n                    >\n\n                      <Card style={{ color: green[500] }} >\n                        <CardContent>\n\n                          <Typography align={'left'}>Responda a la pregunta.</Typography>\n                          <div align={'right'}>\n                          <CountdownCircleTimer\n                              onComplete={() => {\n                                if(!this.state.contestada){\n                                  conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n                                    quesito: \"\",\n                                    finTurno: true ,\n                                  }, (res)=>{\n                                    console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n                                    this.props.activarDado();\n                                  });\n                                }\n\n                                this.handleClose()\n                              }}\n                              isPlaying\n                              duration={60}\n                              initialRemainingTime={60}\n                              colors=\"#A30000\"\n                              size={80}\n                          />\n                          </div>\n                          <Quiz  pregunta={this.getPosiblesJugadas()} onResponse={this.handleResponseFromQuiz} > </Quiz>\n                          <Button onClick={this.handleClose} style={{color: 'red'}} disabled={this.state.botonCerrar}>CERRAR</Button>\n                        </CardContent>\n                      </Card>\n\n\n                    </Modal>\n                  </div>\n              )}\n            </PopupState>\n\n          </div>\n        </div>\n    ) : (\n        <canvas\n            id=\"colour-picker\"\n            onClick={this.onCanvasClick}\n            width={`${radius * 2}px`}\n            height={`${radius * 2}px`}\n        />\n\n    )\n  }\n\n\n\n}\n\nColourWheel.propTypes = {\n  playerName: PropTypes.array,\n  numPlayers: PropTypes.number,\n  radius: PropTypes.number.isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  colours: PropTypes.array,\n  shades: PropTypes.number,\n  padding: PropTypes.number,\n  dynamicCursor: PropTypes.bool,\n  spacers: PropTypes.object,\n  onColourSelected: PropTypes.func,\n  preset: PropTypes.bool\n  // presetColour: PropTypes.string\n}\n\nColourWheel.defaultProps = {\n  colours: hexStrings,\n  shades: 16,\n  padding: 0,\n  dynamicCursor: true,\n  preset: false,\n  animate: false\n}\n\nexport default ColourWheel","export default __webpack_public_path__ + \"static/media/dadoMusica.80ec73e2.mp3\";","export default __webpack_public_path__ + \"static/media/ascensor.fabbf54a.mp3\";","import React, {Component} from 'react'\n\n// react-colour-wheel:\nimport ColourWheel from './src/components/colourWheel/ColourWheel'\nimport ReactDice from 'react-dice-complete'\nimport 'react-dice-complete/dist/react-dice-complete.css'\nimport Button from '@material-ui/core/Button'\nimport {getToken} from \"../Utils/Common\";\nimport dados from '../music/dadoMusica.mp3'\nimport {conn} from \"../Play\";\nimport {Card, CardContent, Grid, ListItemAvatar, Typography} from \"@material-ui/core\";\nimport {Modal} from \"reactstrap\";\n\nimport {green} from \"@material-ui/core/colors\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ArrowBack, HelpOutline, MusicNote, MusicOff, VolumeOff, VolumeUp} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Cheese from \"./Cheese\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Avatar from '@material-ui/core/Avatar';\nimport musica from \"../music/ascensor.mp3\";\nimport Sound from \"react-sound\";\n\nconst yourDefaultColour = 'rgb(255, 255, 255)'\n\nconst debug = false;\n\nconst useStyles = (theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n});\n\n\n\nclass Board extends Component {\n    state = {\n        selectedColour: yourDefaultColour,\n        dado: 0,\n        play: false,\n        turno:'',\n        admin:'',\n        open:false,\n        datosJugadores:[{\n            avatar:\"\",\n            nombre:\"\",\n            coloresAcertados: [],\n            banner:\"\",\n            ficha:\"\"\n        }],\n        desconectados: [],\n        coloresAcertados: [],\n        jugadores: [],\n        codigoSala: null,\n        username: \"\",\n        esprimero: true,\n        nuevoJugador: false,\n\n        puedoTirar: false,\n        sounds: false,\n        music: false,\n        partidaEmpezada:false,\n        yes:true,\n        desconexion: false\n\n    }\n\n\n    cambiarSonido=()=>{\n        this.setState({sounds: !this.state.sounds})\n    }\n    cambiarMusica =()=>{\n        this.setState({music: !this.state.music})\n    }\n    audio = new Audio(dados)\n\n    constructor(props) {\n        super(props);\n\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n\n                console.log(\"Recuperando datos del usuario...\")\n            this.setState({username:response.data._id})\n            conn.emit(\"obtenerIdSala\",(id)=>{\n                //this.state.codigoSala = id\n                this.setState({codigoSala: id});\n                console.log(\"Ejecutando obtenerIdSala...\")\n            })\n            console.assert(!debug,\"no se que poner \", response.data._id, this.state.esprimero, this.state.jugadores.length, this.state.jugadores);\n            if (this.state.jugadores.length === 0 &&  this.state.esprimero) {\n                console.assert(!debug,\"Es el primero, lo ponemos como admin\");\n                const list = this.state.jugadores.concat(response.data._id);\n                //this.state.admin = response.data._id;\n                this.setState({\n                    jugadores:list,\n                    admin: response.data._id,\n                    datosJugadores:[{\n                        avatar: response.data.avtr,\n                        banner: response.data.bnr,\n                        ficha: response.data.fich,\n                        nombre: response.data._id,\n                        coloresAcertados: []\n                    }\n                    ]\n                })\n\n            } else if (this.state.jugadores.length === 1 &&  this.state.esprimero){\n                this.setState({admin: response.data._id})\n\n            } else {\n                console.assert(!debug,\"Se intenta meter un usuario que ya estaba\");\n\n            }\n        }).catch((code) => {\n            console.assert(!debug,code.response)\n        });\n    }\n\n    activarDado(){\n        this.setState({\n            puedoTirar: true\n        })\n    }\n\n    desactivarDado(){\n        this.setState({\n            puedoTirar: false\n        })\n    }\n\n    rellenarQuesitos=(color)=>{\n        //this.state({coloresAcertados: color});\n\n    }\n\n    listarJugadores = (classes) => {\n        console.assert(!debug,\"Entrando a listar jugadores...\")\n\n        let desconectados = this.state.desconectados;\n        let datosJugadores = this.state.datosJugadores;\n\n        //datosJugadores.some((user) => desconectados.includes(user.nombre)) ? color = '#D64728' : color = '#000000';\n        console.assert(!debug,desconectados)\n        console.assert(!debug,datosJugadores)\n\n        return(\n            <List dense className={classes.root}>\n                {datosJugadores.map((value) => {\n                    let color = '';\n                    desconectados.includes(value.nombre) ? color = '#D64728' : color = '#000000';\n                    console.assert(!debug,color)\n\n                    const labelId = `checkbox-list-secondary-label-${value}`;\n                    let error;\n                    if (value.banner === 'banner0' || value.banner === 'banner4') {\n                        error = 'black'\n                    } else {\n                        error = 'white'\n                    }\n\n                    return (\n                        <div style={{\n                            backgroundImage: \"url(\" + \"/images/banners/\" + value.banner + \".jpg\" + \")\",\n                            backgroundSize: 'cover', color: error ,blockSize: 100, alignContent: 'center',\n                            border: 'solid', borderColor: 'black', textSizeAdjust: 'auto', boxSizing: 'inherit'\n                        }}>\n                            <ListItem key={value}>\n                                <ListItemAvatar>\n                                    <Avatar altP=\"Remy Sharp\" src={\"/images/fichas/\" + value.ficha + \".png\"}/>\n                                </ListItemAvatar>\n                                <ListItemAvatar>\n                                    <Avatar altP=\"Remy Sharp\" src={\"/images/avatars/\" + value.avatar + \".jpg\"}/>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    id={labelId}\n                                    disableTypography\n                                    primary={\n                                        <Typography type=\"body2\" style={{ color: color }}>\n                                            {value.nombre}\n                                        </Typography>\n                                    }\n                                />\n                                <ListItemSecondaryAction>\n                                    <Cheese color={value.coloresAcertados}></Cheese>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n\n                        </div>\n\n                    );\n                })}\n            </List>\n        )\n    }\n\n\n    /*\n        devolverCodigoSala(){\n            conn.emit(\"obtenerIdSala\",(id)=>{\n                //this.state.codigoSala = id;\n                this.setCodigoSala(id)\n                this.setState({codigoSala: id});\n                console.assert(!debug,id);\n                console.assert(!debug,this.state.codigoSala)\n            })\n            console.assert(!debug,\"El identificador es :\"+ this.state.codigoSala);\n\n        }\n    */\n\n\n    botonEmpezar = () => {\n\n        if(this.state.username===this.state.admin){\n            if(!this.state.partidaEmpezada){\n                return(\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={this.iniciarPartidaa}\n                    >\n                        Empezar Partida\n                    </Button>\n                )\n            }\n\n        }\n    }\n\n\n    componentDidMount(){\n\n        conn.on('nuevoJugador',(user)=> {\n            console.assert(!debug,\"Cargando nuevo jugador...\")\n            const usuario = user.jugador;\n\n            if (!this.state.jugadores.includes(usuario)) {\n                let ficha;\n                let banner;\n                let avatar;\n                if(user.imgs == null || user.imgs.ficha === \"\"){\n                    ficha = \"ficha0\";\n                    banner = \"banner0\";\n                    avatar = \"avatar0\";\n                }else{\n                    ficha = user.imgs.ficha;\n                    banner = user.imgs.banner;\n                    avatar = user.imgs.avatar;\n                }\n                const listDatos = this.state.datosJugadores.concat({\n                    ficha:ficha,\n                    nombre: user.jugador,\n                    banner:banner,\n                    avatar:avatar,\n                    coloresAcertados: []\n                })\n                console.assert(!debug,listDatos);\n                this.setState({datosJugadores:listDatos});\n                const list = this.state.jugadores.concat(usuario);\n                this.setState({jugadores:list})\n            }\n        })\n\n        conn.on('cargarJugadores',(users)=>{\n            console.assert(!debug,users);\n            console.assert(!debug,users.jugadores.usuario);\n            let list = [];\n            let gamers = [];\n            for(let i = 0; i<users.jugadores.length; i++){\n                let ficha;\n                let banner;\n                let avatar;\n                if(users.jugadores[i].imgs == null || users.jugadores[i].imgs === \"\"){\n                    ficha = \"ficha0\";\n                    banner = \"banner0\";\n                    avatar = \"avatar0\";\n                }else{\n                    ficha = users.jugadores[i].imgs.ficha;\n                    banner = users.jugadores[i].imgs.banner;\n                    avatar = users.jugadores[i].imgs.avatar;\n                }\n                list.push(users.jugadores[i]);\n                gamers.push({\n                    nombre:users.jugadores[i].usuario,\n                    ficha:ficha,\n                    banner:banner,\n                    avatar:avatar,\n                    coloresAcertados: []});\n            }\n            console.assert(!debug,list);\n            console.assert(!debug,gamers);\n\n\n            if(list.length > 1){\n                this.setState({admin: '',\n                    esprimero:false, datosJugadores: gamers});\n            } else {\n                this.setState({admin: this.state.username,\n                    esprimero:true, datosJugadores: gamers});\n            }\n\n\n            //console.assert(!debug,users.jugadores.prototype);\n            //setJugadores([...users.jugadores]);\n            //this.state.jugadores = users.jugadores;\n            //this.setState({jugadores: users.jugadores})\n        })\n\n        conn.on('reconexionJugador',(user)=> {\n            let desconectados = this.state.desconectados;\n            let arrayJugadores = this.state.datosJugadores;\n            let nombre = user.jugador;\n            let indexUser = desconectados.indexOf(nombre)\n\n            if(indexUser > -1){ //si esta reconocido como desconectado lo elimina\n               desconectados.splice(indexUser,1);\n                this.setState({desconectados: desconectados})\n\n            }else if (!arrayJugadores.some((elemento) => elemento.nombre === nombre)){ //si no, comprueba que est en la partida\n                console.assert(!debug,\"ERROR AL ENCONTRAR JUGADOR: NO ESTABA EN LA PARTIDA\");\n            } else {\n                console.assert(!debug,\"AVISO AL ENCONTRAR JUGADOR: NO ESTABA EN DESCONECTADOS\");\n            }\n            //this.colourWheel.setValores(this.state.jugadores,this.state.jugadores.length,quienSoy)\n        })\n\n        conn.on('estadoPartida',(users)=>{//arreglar\n            console.assert(!debug,users);\n            let userList = [];\n            for(let i = 0; i < users.jugadores.length; i++){\n                let color=[];\n                for(let j=0; j< users.jugadores[i].quesitos.length ; j++){\n\n                    switch (users.jugadores[i].quesitos[j]) {\n                        case \"Historia\":\n                            color.push( \"yellow\");\n                            break;\n                        case \"Deportes\":\n                            color.push( \"orange\");\n                            break;\n                        case \"Entretenimiento\":\n                            color.push( \"pink\");\n                            break;\n                        case \"Ciencias\":\n                            color.push( \"green\");\n                            break;\n                        case \"Geografia\":\n                            color.push( \"blue\");\n                            break;\n                        case \"Cultura General\":\n                            color.push( \"purple\");\n                            break;\n                    }\n                }\n                let ficha;\n                let banner;\n                let avatar;\n                if(users.jugadores[i].imgs == null || users.jugadores[i].imgs === \"\"){\n                    ficha = \"ficha0\";\n                    banner = \"banner0\";\n                    avatar = \"avatar0\";\n                }else{\n                    ficha = users.jugadores[i].imgs.ficha;\n                    banner = users.jugadores[i].imgs.banner;\n                    avatar = users.jugadores[i].imgs.avatar;\n                }\n\n                userList.push({\n                    ficha:ficha,\n                    nombre: users.jugadores[i].usuario,\n                    banner:banner,\n                    avatar:avatar,\n                    coloresAcertados: color\n                })\n            }\n            console.assert(!debug,userList);\n            this.setState({admin: userList[0].nombre,\n                esprimero:false, datosJugadores: userList});\n\n            console.assert(!debug,\"Volviendo a la partida\");\n            let casillas = [];\n            for(let i = 0; i < users.jugadores.length; i++){\n                casillas.push(users.jugadores[i].casilla)\n            }\n\n            let quienSoy = userList.findIndex((jugador) => (jugador.nombre === this.state.username));\n\n            if(quienSoy > -1) {\n                this.setState({partidaEmpezada: true})\n                this.colourWheel.setValores(userList, userList.length, quienSoy)\n                console.assert(!debug, casillas)\n                this.colourWheel.cargarPartida(casillas, quienSoy)\n                this.colourWheel.drawPlayers()\n            } else {\n                console.log(\"ERROR: FALLO AL ENCONTRARME MI NOMBRE DE USUARIO\")\n            }\n        })\n\n        conn.on('abandonoSala',(user)=>{\n            console.assert(!debug,\"Entramos en abandono de sala \"+this.state.jugadores);\n            var arrayJugadores = this.state.datosJugadores;\n            //var arrayDatosJugadores = this.state.datosJugadores;\n            //var indexUser = arrayJugadores.indexOf(user);\n            let quienSoy\n            let indexUser = 0 //arrayJugadores.nombre.indexOf(antiguo);\n            let length = arrayJugadores.length\n            //console.assert(!debug,arrayJugadores[0])\n            for(let i=0;i<length;i++){\n                if (arrayJugadores[i].nombre===user) {\n                    indexUser = i;\n                }\n                if(arrayJugadores[i].nombre===user){\n                    quienSoy=i;\n                }\n            }\n\n            if(indexUser>-1){//no ha dado error\n                console.assert(!debug,\"Hemos sacado el index del jugador que abandona\");\n                arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n                //arrayDatosJugadores.splice(indexUser,1);\n                //this.state.jugadores = arrayJugadores;\n                this.setState({datosJugadores:arrayJugadores})\n                this.colourWheel.setValores(arrayJugadores, arrayJugadores.length, quienSoy)\n\n            }else{\n                console.assert(!debug,\"ha dado error el indexOf\");\n                //this.state.jugadores = arrayJugadores;\n                this.setState({jugadores: arrayJugadores})\n            }\n        })\n\n        conn.on('jugadorSale',(user)=>{\n            console.assert(!debug,\"Jugador saliendo...\");\n            let desconectados = this.state.desconectados;\n\n            if(!desconectados.includes(user)){ //si no est lo mete\n                desconectados.push(user);\n                console.assert(!debug,desconectados)\n                this.setState({desconectados: desconectados})\n\n            }else{\n                console.assert(!debug,\"POSIBLE ERROR AL DESCONECTAR JUGADOR: YA ESTABA DESCONECTADO\");\n            }\n        })\n\n        conn.on('cambioLider',({antiguo,nuevo})=>{\n            console.assert(!debug,\"Antiguo lider: \"+antiguo+ \" nuevo: \"+nuevo);\n            var arrayJugadores = this.state.datosJugadores;\n            console.assert(!debug,arrayJugadores)\n            let indexUser = 0 //arrayJugadores.nombre.indexOf(antiguo);\n            let length = arrayJugadores.length\n            console.assert(!debug,arrayJugadores[0])\n            for(let i=0;i<length;i++){\n                if (arrayJugadores[i].nombre==antiguo) {\n                    indexUser = i;\n                }\n            }\n            if(indexUser>-1){//no ha dado error\n                console.assert(!debug,\"Hemos sacado el index del jugador que abandona(en cambio Lider)\");\n                arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n                //this.state.jugadores = arrayJugadores;\n                this.setState({jugadores: arrayJugadores,\n                    admin: nuevo})\n                //this.state.admin = nuevo;\n            }else{\n                console.assert(!debug,\"ha dado error el indexOf\");\n\n            }\n        })\n        /*\n        conn.on('estadoPartida',(info)=>{\n            console.assert(!debug,info);\n        })*/\n\n        this.audio.addEventListener('ended', () => this.setState({ play: false }));\n\n        conn.on('turno', (info) => {\n            console.assert(!debug,\"Turno de: \" + info);\n            //this.state.turno=info\n            this.setState({turno:info})\n            if(info===this.state.username){\n                //alert('Es tu turno!')\n                this.activarDado()\n            }\n        })\n\n        conn.on('finDelJuego', (usuario) => {\n            console.assert(!debug,\"Fin del juego, gana: \" + usuario);\n            this.handleOpen()\n        })\n\n        conn.on('comienzoPartida', (res) => {\n            console.assert(!debug,\"Comienza la partida\");\n\n            let quienSoy = this.state.datosJugadores.findIndex(\n                (jugador) => (jugador.nombre === this.state.username));\n\n            this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n            console.assert(!debug,'dibujand')\n\n            //this.drawCenterCircle()\n            this.colourWheel.inicializarTablero()\n\n            this.setState({partidaEmpezada:true})\n\n\n\n        })\n\n\n        conn.on('disconnect', () => {\n            console.log('disconection')\n            this.setState({desconexion: true})\n\n\n        })\n    }\n\n\n\n    componentWillUnmount() {\n        this.audio.removeEventListener('ended', () => this.setState({ play: false }));\n    }\n\n    togglePlay = () => {\n        this.setState({ play: !this.state.play }, () => {\n            this.state.sounds ? this.audio.play() : this.audio.pause();\n        });\n    }\n\n    iniciarPartidaa = () => {\n\n        let quienSoy= this.state.datosJugadores.findIndex(\n            (jugador) => (jugador.nombre === this.state.username));\n\n        console.assert(!debug,this.state.jugadores)\n        console.assert(!debug,this.colourWheel)\n        this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n\n        this.colourWheel.iniciarPartida(() => {\n            // Do some other stuff in this callback if you want -- other than re-setting your selectedColour.\n            this.setState({ selectedColour: yourDefaultColour })\n        })\n        conn.emit(\"comenzarPartida\", (res)=>{\n            console.log(\"Al comenzar partida: \" + res.res + \" \" + res.info);\n            //this.inicializarTablero()\n            if(res.res==='ok'){\n                //this.drawCenterCircle()\n                this.colourWheel.inicializarTablero()\n                this.setState({partidaEmpezada: true})\n            }\n\n\n        });\n\n    }\n\n    jugada = () => {\n        let dado= this.state.dado;\n        console.assert(!debug,'num'+this.state.dado)\n        this.colourWheel.jugada(dado,() => {\n            // Do some other stuff in this callback if you want -- other than re-setting your selectedColour.\n            this.setState({ selectedColour: yourDefaultColour })\n        })\n    }\n\n    rollDoneCallback =(num) =>{\n        console.assert(!debug,`You rolled a ${num}`)\n        //this.state.dado={num}\n        this.setState({dado: num})\n        console.assert(!debug,`sacaste un `+this.state.dado)\n        this.jugada()\n\n\n    }\n\n\n\n    rollDoneCallback2 =(num) =>{\n        setTimeout(()=>{this.rollDoneCallback(num)}, 1000);//2000\n    }\n\n    turn =() =>{\n        return(\n            <h1>{this.state.turno}</h1>\n        )\n    }\n\n    heGanado(){\n        let aux = this.state.datosJugadores;\n        let index = aux.findIndex((jugador) => (jugador.nombre === this.state.username));\n        if(index > -1){\n            return aux[index].coloresAcertados.length === 6;\n        } else {\n            return false;\n        }\n    }\n\n    finPartida(){\n        let aux = this.state.datosJugadores;\n        let index = aux.findIndex((jugador) => jugador.coloresAcertados.length === 6);\n        if(index > -1){\n            return  \"GANADOR: \" + aux[index].nombre;\n        } else {\n            return  \"\";\n        }\n\n\n    }\n\n    handleOpen = () => {\n\n        //this.state.open=true;\n        this.setState({open: true})\n    };\n\n    handleClose = () => {\n        this.setState({open:false});\n        let cantidad = 0;\n        if(this.heGanado()){\n            cantidad = 20;\n        } else {\n            cantidad = 10;\n        }\n\n    };\n\n    getOpen(){\n        return this.state.open\n    }\n\n\n    handleQuesitos=(response)=>{\n        console.assert(!debug,response);\n        console.assert(!debug,'quesito de'+response.quesito);\n        let color;\n        switch (response.quesito) {\n            case \"Historia\":\n                color = \"yellow\";\n                break;\n            case \"Deportes\":\n                color = \"orange\";\n                break;\n            case \"Entretenimiento\":\n                color = \"pink\";\n                break;\n            case \"Ciencias\":\n                color = \"green\";\n                break;\n            case \"Geografia\":\n                color = \"blue\";\n                break;\n            case \"Cultura General\":\n                color = \"purple\";\n                break;\n        }\n        var exito = false;\n        for(let i=0;i<this.state.coloresAcertados.length;i++){\n            console.assert(!debug,this.state.coloresAcertados[i])\n            console.assert(!debug,response.quesito)\n            if(this.state.coloresAcertados[i]===color){\n                exito = true\n            }\n        }\n\n        if(response.quesito!==\"\" && !exito) {\n\n            const colors = this.state.coloresAcertados;\n            colors.push(color);\n            this.setState({coloresAcertados: colors});\n            var arrayDatosJugadores = this.state.datosJugadores;\n            for (var i = 0; i < arrayDatosJugadores.length; i++) {\n                if (arrayDatosJugadores[i].nombre === response.user) {\n                    arrayDatosJugadores[i].coloresAcertados.push(color)\n                }\n            }\n            this.setState({datosJugadores: arrayDatosJugadores});\n        }\n        //this.setState({})\n        //console.assert(!debug,this.state.coloresAcertados)\n    }\n\n\n    render () {\n        if (this.state.desconexion){\n            return (\n                <div>\n                    Ha habido un error\n                    <br></br>\n                    <Button href={'/Play'} style={{color:'red'}}>\n                        Volver\n                    </Button>\n                </div>\n            )\n        }\n        const {classes} = this.props\n        const { selectedColour } = this.state\n        let audio = new Audio(\"../music/dadoMusica.mp3\")\n\n        const start = () => {\n            audio.play()\n        }\n\n\n        return (\n            <Grid container>\n                <Grid item xs={3} direction=\"row\">\n                    <Card >\n                        <CardContent>\n                            <div style={{height: \"fit-content\"}}>\n                                <h2>\n                                    Sala\n                                </h2>\n                                <div>\n                                    {this.listarJugadores(classes)}\n                                </div>\n                                <div>\n                                    {/*this.devolverCodigoSala()*/}\n                                    <h6 style={{ font: 'arial'}}>CDIGO: {this.state.codigoSala}</h6>\n\n                                </div>\n                                <div>\n                                    {this.botonEmpezar()}\n                                </div>\n                            </div>\n                        </CardContent>\n                    </Card>\n                </Grid>\n                <Grid item xs={8} >\n                    <Card style={{ color: green[500] }} >\n                        <CardContent>\n\n                            <div>\n                                <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/Play'}>\n                                    <ArrowBack color=\"primary\"/>\n                                    Volver\n                                </IconButton>\n\n                                <Popup trigger={\n                                    <IconButton color=\"secondary\" variant=\"contained\" >\n                                        <HelpOutline color=\"primary\"/>\n                                    </IconButton>} position=\"right top\" >\n                                    <div>\n                                        <h5>INFORMACIN</h5>\n                                        <li><font size={2}>AMARILLO: historia</font></li>\n                                        <li><font size={2}>VERDE: Ciencias</font></li>\n                                        <li><font size={2}>ROSA: Entretenimiento</font></li>\n                                        <li><font size={2}>MORADO: Cultura General</font></li>\n                                        <li><font size={2}>NARANJA: Deportes</font></li>\n                                        <li><font size={2}>AZUL: Geografia</font></li>\n                                        <li><font size={2}>BLANCO: tira otra vez</font></li>\n                                    </div>\n                                </Popup>\n\n                                <IconButton onClick={this.cambiarSonido} >\n                                    {this.state.sounds ? <VolumeUp color=\"primary\"/>:<VolumeOff color=\"primary\"/>}\n                                </IconButton>\n\n                                <IconButton onClick={this.cambiarMusica} color=\"secondary\">\n                                    {this.state.music ? <MusicNote color=\"primary\"/>:<MusicOff color=\"primary\"/>}\n                                </IconButton>\n\n\n\n                                <Sound\n                                    url={musica}\n                                    playStatus={\n                                        this.state.music ?Sound.status.PLAYING:Sound.status.PAUSED\n                                    }\n                                    playFromPosition={300}\n                                    loop={true}\n                                    volume={20}\n                                />\n\n\n                            </div>\n                            <div\n                                style={{\n                                    height: '100%',\n                                    width: '100%',\n                                    display: 'flex',\n                                    backgroundColor: '#353833',\n                                    flexDirection: 'column',\n                                    justifyContent: 'center',\n                                    alignItems: 'center'\n                                }}\n                            >\n                                <div style={{ textAlign: 'center', color: '#FFFFFF' }}>\n                                    <h1><span>UniTrivia</span></h1>\n                                </div>\n                                <div style={{ textAlign: 'right', color: '#FFFFFF' }}>\n                                    {this.state.turno === this.state.username?<h2>Tu turno!</h2>:<h2>Turno de :{this.state.turno}</h2>}\n                                </div>\n\n                                <ColourWheel\n                                    numPlayers={this.state.jugadores.length}\n                                    playerName={this.state.jugadores}\n                                    radius={250}\n                                    padding={10}\n                                    lineWidth={50}\n                                    onColourSelected={(rgb) => this.setState({ selectedColour: rgb })}\n                                    onRef={ref => (this.colourWheel = ref)}\n                                    spacers={{\n                                        colour: '#FFFFFF',\n                                        shadowColour: 'grey',\n                                        shadowBlur: 5\n                                    }}\n                                    preset // You can set this bool depending on whether you have a pre-selected colour in state.\n                                    presetColour={this.state.selectedColour}\n                                    animated\n                                    desactivarDado={this.desactivarDado.bind(this)}\n                                    activarDado={this.activarDado.bind(this)}\n                                    onResponse={this.handleQuesitos}\n                                    username={this.state.username}\n\n                                />\n\n                                <Modal\n                                    isOpen={this.getOpen()}\n                                    onClose={this.handleClose}\n                                    aria-labelledby=\"simple-modal-title\"\n                                    aria-describedby=\"simple-modal-description\"\n                                    disableBackdropClick={true}\n                                >\n                                    <h2>\n                                        Fin de la partida\n                                    </h2>\n                                    <div>\n                                        {this.finPartida()}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            variant=\"primary\"\n                                            href={'/menu'}\n                                            onClick={this.handleClose}\n                                        >\n                                            Aceptar\n                                        </Button>\n                                    </div>\n                                </Modal>\n\n\n                                <Button\n                                    style={{\n                                        cursor: 'pointer',\n                                        fontSize: 20,\n                                        fontWeight: '500',\n                                        color: '#FFFFFF',\n                                        marginTop: 20\n                                    }}\n                                    onClick={this.togglePlay}\n                                    disabled={!this.state.puedoTirar}\n\n\n\n                                >\n                                    <Button onClick={()=>{this.reactDice.rollAll()}}>tirar dado</Button>\n                                    <ReactDice\n                                        numDice={1}\n                                        rollDone={this.rollDoneCallback2}\n                                        ref={dice => this.reactDice = dice}\n                                        outline={true}\n                                        faceColor={'white'}\n                                        dotColor={'black'}\n                                        rollTime={2}\n                                        sound={this.state.sounds?'../music/dadoMusica.mp3':''}\n                                        disableIndividual={!this.state.puedoTirar}\n                                    />\n\n                                </Button>\n\n                            </div>\n\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nexport default withStyles(useStyles)(Board);\n","import React, {useEffect} from 'react'\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ArrowBack, HelpOutline} from \"@material-ui/icons\";\nimport {green} from \"@material-ui/core/colors\";\nimport {Card, CardContent, Grid} from \"@material-ui/core\";\n//style={{ color: green[500] }}\nimport Chat from \"./game/chat\";\nimport Room from \"./game/room\";\nimport Board from \"./game/Board\";\n\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport {conn} from \"./Play\";\n\nconst BackButtonListener = ({children}) => {\n\n    useEffect(() => {\n        window.onpopstate = () => {\n            alert(\"Acaba de abandonar la partida\");\n            window.location.reload(true);\n\n        }\n    })\n\n    return null;\n};\n\n\nfunction Game(props) {\n\n    return (\n        <Grid container spacing={2}>\n            <Board></Board>\n            <Chat></Chat>\n            <BackButtonListener/>\n        </Grid>\n\n    );\n}\n\n\nexport default Game;","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import {Dropdown,DropdownItem,DropdownMenu,DropdownToggle} from 'reactstrap';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction CrearSala() {\n    const classes = useStyles();\n\n    const imprimirCodigoSala=()=>{\n        return (<h6>XWDWED</h6>)\n    }\n    const imprimirJugadoresSala=(num)=>{\n        return (<h7>Jugador {num}</h7>)\n    }\n    return (\n\n        <Div>\n            <h3>Crear Sala</h3>\n            Codigo de la Sala<br/><br/>\n            {imprimirCodigoSala()}\n\n            <br></br>\n            {imprimirJugadoresSala(1)}\n            {imprimirJugadoresSala(2)}\n            {imprimirJugadoresSala(3)}\n            {imprimirJugadoresSala(4)}\n            <div style={{marginTop: 100}}>\n            <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Game'}\n                >\n                    Empezar Partida\n                </Button>\n            </div>\n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Atrs\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\n\nexport default CrearSala;","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport TextField from '@material-ui/core/TextField';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction UnirseSala() {\n    const classes = useStyles();\n    const codigo = useFormInput('');\n    return (\n        <Div>\n            <h3>Unirse a Sala</h3>\n            Introduce el cdigo de la sala<br/><br/>\n            <div>\n            <div>\n            <TextField\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"codigo\"\n                          label=\"Codigo\"\n                          name=\"codigo\"\n                          autoComplete=\"codigo\"\n                          autoFocus\n                          {...codigo}\n                          label=\"Cdigo de la sala\"\n                      />\n            </div>\n            </div>\n            <div style={{marginTop: 10}}>\n            <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Sala'}\n                >\n                    Unirme\n                </Button>\n            </div>\n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Atrs\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n  \n    const handleChange = e => {\n    console.log(value)\n      setValue(e.target.value);\n    }\n    return {\n      value,\n      onChange: handleChange\n    }\n  }\nexport default UnirseSala;\n","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import {Dropdown,DropdownItem,DropdownMenu,DropdownToggle} from 'reactstrap';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Sala() {\n    const classes = useStyles();\n    \n    const imprimirCodigoSala=()=>{\n        return (<h6>XWDWED</h6>)\n    }\n    const imprimirJugadoresSala=(num)=>{\n        return (<h7>Jugador {num}</h7>)\n    }\n    return (\n\n        <Div>\n            <h3>Sala {imprimirCodigoSala()} </h3>\n            <br/><br/>\n            \n            <br></br>\n            {imprimirJugadoresSala(1)}\n            {imprimirJugadoresSala(2)}\n            {imprimirJugadoresSala(3)}\n            {imprimirJugadoresSala(4)}\n            \n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Salirse\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\n\nexport default Sala;","import React, { useState, useEffect } from 'react';\nimport {Card, CardHeader, Grid} from '@material-ui/core';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {ArrowBack} from \"@material-ui/icons\";\nimport {FixedSizeList} from \"react-window\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getToken} from \"../Utils/Common\";\nimport axios from \"axios\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport PropTypes from \"prop-types\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\n    root: {\n        width: '100%',\n        height: 400,\n        maxWidth: 300,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\n\n\n\n\n\n\nfunction Tienda (props){\n    let comprados_tipo = [];\n    let catalogo_tipo_no_reps = [];\n    const [numObj, setnum] = useState(null);\n    const [cat, setCat] = useState(null);\n    let catalogo_tipo = undefined;\n    const classes = useStyles();\n    let coins = props.location.state.actual_coins;\n    console.log(coins);\n    let comprados = props.location.state.comprados;\n    console.log(comprados);\n    let tipo = props.location.state.tipo;\n    console.log(tipo);\n    let header = null;\n\n    if(tipo === \"Avatar\"){\n        header = \"Bienvenido a la Tienda de Avatares\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] == 'a') {\n                comprados_tipo.push(word);\n            }\n        }\n    }else if(tipo === \"Banner\"){\n        header = \"Bienvenido a la Tienda de Banners\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] === 'b') {\n                comprados_tipo.push(word);\n            }\n        }\n    }else if(tipo === \"Ficha\"){\n        header = \"Bienvenido a la Tienda de Formas de Ficha\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] === 'f') {\n                comprados_tipo.push(word);\n            }\n        }\n    }\n\n    console.log(comprados_tipo);\n\n\n\n    useEffect(() => {\n       axios.get('https://unitrivia.herokuapp.com/api/tienda/catalogo',{headers: {\n                tipo: tipo\n            }}).then((response) => {\n\n            catalogo_tipo = response.data;\n            console.log(catalogo_tipo);\n            console.log(response.data);\n            console.log(response);\n            //quitamos de la tienda lo que ya tenemos\n            let index = 0;\n            for(let i = 0; i < catalogo_tipo.length; i++){\n                let lo_tengo = false;\n                for(let j = 0; j < comprados_tipo.length; j++){\n                    console.log(catalogo_tipo[i].nombre);\n                    if(catalogo_tipo[i].nombre === comprados_tipo[j]){\n                        lo_tengo = true;\n                    }\n\n                }\n                if(!lo_tengo){\n                    catalogo_tipo_no_reps[index] = catalogo_tipo[i];\n                    index++;\n                }\n            }\n            if(catalogo_tipo_no_reps.length === 0){\n                alert(\"Ya tienes todos los objetos\")\n            }\n            console.log(catalogo_tipo_no_reps.length);\n            setCat(catalogo_tipo_no_reps);\n            setnum(catalogo_tipo_no_reps.length);\n        }).catch((code,message) => {\n            console.log(code.response)\n            console.log(message)\n\n        });\n    }, []);\n\n\n    function renderRow(props){\n        const { index, style } = props;\n        console.log(cat);\n        let precio = cat[index].precio + \" coins\";\n        const clickBuy = () => {\n\n\n            console.log(\"clickado \" + cat[index].nombre);\n            if(cat[index].precio > coins){\n                alert(\"No dispone de suficientes coins para comprar este objeto\");\n            }else{\n                let aceptar = window.confirm(\"Presione en OK para comprar \" + cat[index].nombre + \" por \" + cat[index].precio + \" coins\");\n                if(aceptar === true) {\n                    axios.post('https://unitrivia.herokuapp.com/api/tienda/comprar', {}, {\n                        headers: {\n                            nombre: cat[index].nombre,\n                            jwt: getToken()\n                        }\n                    }).then(response => {\n\n                        //setUserSession(response.data.token, response.data.user);\n                        alert(\"Adquirido\");\n                        setTimeout(function(){console.log(\"esperamos server reaccione\")}, 1000);\n                        window.history.go(-1);\n                    }).catch(error => {\n\n                        alert('Error al cambiar forma de ficha');\n                    });\n                }\n            }\n        }\n\n        let current = undefined;\n        if(tipo === \"Avatar\"){\n            current = '/images/avatars/' + cat[index].nombre + '.jpg';\n            return(\n\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <Avatar\n                            src={current}\n                        >\n\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n\n            )\n        }else if(tipo === \"Banner\"){\n            current = '/images/banners/' + cat[index].nombre + '.jpg';\n            return(\n                <div>\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <img\n                            src={current}\n                            width=\"600\"\n                            height=\"75\"\n                        >\n\n                        </img>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n                </div>\n\n            )\n        }else if(tipo === \"Ficha\"){\n            current = '/images/fichas/' + cat[index].nombre + '.png';\n            return(\n\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <Avatar\n                            src={current}\n                        >\n\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n\n            )\n        }else{\n            return(null);\n        }\n\n    }\n\n    renderRow.propTypes = {\n        index: PropTypes.number.isRequired,\n        style: PropTypes.object.isRequired,\n    };\n    return(\n        <Card>\n            <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/profile'}>\n                <ArrowBack color=\"primary\"/>\n                Volver\n            </IconButton>\n            <Grid\n                container\n                spacing={2}\n            >\n                <Grid\n                    xs={6}\n                >\n                    <CardHeader\n                        subheader=\"Objetos que hay actualmente en la tienda\"\n                        title={header}\n                    />\n                </Grid>\n                <Grid\n                    xs={6}\n                >\n                    <CardHeader\n                        subheader={coins}\n                        title=\"Coins\"\n                    />\n                </Grid>\n            </Grid>\n            <List>\n                <div className={classes.demo}>\n                    <FixedSizeList height={300} width={1500} itemSize={80} itemCount={numObj}>\n                        {renderRow}\n                    </FixedSizeList>\n                </div>\n            </List>\n        </Card>\n\n    );\n}\n\n\nexport default Tienda;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\n\nimport Login from './Login';\nimport Home from './Home';\n\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport ChangePassword from \"./ChangePassword\";\nimport Register from \"./Register\";\nimport Menu from \"./Menu\";\nimport Profile from './profile';\nimport NoGuestRoute from \"./Utils/NoGuestRoute\";\nimport Play from \"./Play\";\nimport Game from \"./Game\";\nimport CrearSala from \"./CrearSala\";\nimport UnirseSala from \"./UnirseSala\";\nimport Sala from \"./Sala\";\nimport Tienda from \"./tienda/Tienda\"\n\nfunction App(props) {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    /*axios.get(`http://localhost:4000/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.token, response.data.user);\n      setAuthLoading(false);\n    }).catch(error => {\n      //removeUserSession();\n      setAuthLoading(false);\n    });*/\n    setAuthLoading(false);\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\" >Checking Authentication...</div>\n  }\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/login\" component={Login} />\n              <Route exact path=\"/ChangePassword\" component={ChangePassword} />\n              <Route path=\"/register\" component={Register}/>\n              <PrivateRoute path=\"/Menu\" component={Menu}/>\n              <PrivateRoute path=\"/Play\" component={Play}/>\n              <PrivateRoute path=\"/Game\" component={Game}/>\n              <PrivateRoute path=\"/CrearSala\" component={CrearSala}/>\n              <PrivateRoute path=\"/UnirseSala\" component={UnirseSala}/>\n              <PrivateRoute path=\"/Sala\" component={Sala}/>\n              <NoGuestRoute path=\"/Profile\" component={Profile}/>\n              <NoGuestRoute path=\"/Tienda\" component={Tienda}/>\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n/*\n\n*/\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n//const config = require('./config');\n//const logger = require('./logger');\n//const ExpressServer = require('./expressServer');\n//const bd = require('./utils/DatabaseConnection.js');\n//const bd = require('../utils/DatabaseConnection.js');\n/*\nconst launchServer = async () => {\n    try{\n\n        bd.iniciar(\"mongodb://localhost:27017\", \"UniTrivia\");\n        logger.info(\"Pool Connection initialized\");\n    }catch (err){\n        logger.error(\"Cannot initialize Pool Connection\", err.message)\n        await this.close();\n    }\n    try {\n        this.expressServer = new ExpressServer(config.URL_PORT, config.OPENAPI_YAML);\n        this.expressServer.launch();\n        logger.info('Express server running');\n    } catch (error) {\n        logger.error('Express Server failure', error.message);\n        await this.close();\n    }\n};\n\nlaunchServer().catch(e => logger.error(e));\n*/\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}